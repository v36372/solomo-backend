commit 74ec75ea71c132b5211cdfc601c2efafb45f7718
Author: nguyenquangminh0711 <nguyenquangminh0711@gmail.com>
Date:   Fri Apr 8 00:37:01 2016 +0700

    Add user authenticate and move admin to new namespace

diff --git a/.byebug_history b/.byebug_history
index 3dbdb17..c7b4139 100644
--- a/.byebug_history
+++ b/.byebug_history
@@ -1,3 +1,22 @@
+c
+n
+exit
+exception
+n
+exit
+exception
+exceptions
+n
+exit
+n
+auth.info
+auth.info.first_name
+auth.info.first-Name
+auth.name
+auth.first_name
+auth
+n
+auth
 exit
 current_user
 params[:user_id].present?
diff --git a/Gemfile.lock b/Gemfile.lock
index 808d480..a4909a4 100644
--- a/Gemfile.lock
+++ b/Gemfile.lock
@@ -60,7 +60,7 @@ GEM
       ice_nine (~> 0.11.0)
       thread_safe (~> 0.3, >= 0.3.1)
     babosa (1.0.2)
-    bcrypt (3.1.10)
+    bcrypt (3.1.11)
     better_errors (2.1.1)
       coderay (>= 1.0.0)
       erubis (>= 2.6.6)
@@ -309,11 +309,11 @@ GEM
       rake (>= 0.8.7)
       thor (>= 0.18.1, < 2.0)
     raindrops (0.15.0)
-    rake (10.5.0)
+    rake (11.1.2)
     rdoc (4.2.2)
       json (~> 1.4)
     redis (3.2.2)
-    responders (2.1.1)
+    responders (2.1.2)
       railties (>= 4.2.0, < 5.1)
     rollbar (2.5.2)
       multi_json
diff --git a/app/assets/stylesheets/application.scss b/app/assets/stylesheets/application.scss
index 22cb5f9..1449e17 100644
--- a/app/assets/stylesheets/application.scss
+++ b/app/assets/stylesheets/application.scss
@@ -13,6 +13,7 @@
  *= require ./documentation.scss
  *= require_tree ./api_docs
  *= require_tree ./admin
+ *= require_tree ./static
  *= require_self
  */
  @import "bootstrap-sprockets";
diff --git a/app/assets/stylesheets/static/landing_page.scss b/app/assets/stylesheets/static/landing_page.scss
new file mode 100644
index 0000000..3ddcf37
--- /dev/null
+++ b/app/assets/stylesheets/static/landing_page.scss
@@ -0,0 +1,5 @@
+#home_header {
+  nav {
+    border-bottom: 1px #ddd solid;
+  }
+}
diff --git a/app/controllers/admin/comments_controller.rb b/app/controllers/admin/comments_controller.rb
new file mode 100644
index 0000000..51b0976
--- /dev/null
+++ b/app/controllers/admin/comments_controller.rb
@@ -0,0 +1,40 @@
+module Admin
+  class CommentsController < AdminController
+    before_action :find_post
+    before_action :find_comment
+
+    def create
+      comment = Comment.new(comment_params)
+      comment.post = @post
+      if comment.save
+        flash[:notice] = 'Post the comment successfully'
+      else
+        flash[:error] = comment.errors.full_messages.first
+      end
+      redirect_to :back
+    end
+
+    def destroy
+      if @comment.present? && @comment.destroy
+        flash[:notice] = 'Destroy the comment successfully'
+      else
+        flash[:notice] = 'Fail to destroy the comment'
+      end
+      redirect_to :back
+    end
+
+    private
+
+    def comment_params
+      params.require(:comment).permit(:user_id, :content, :parent_id)
+    end
+
+    def find_post
+      @post = Post.find_by_id(params[:post_id])
+    end
+
+    def find_comment
+      @comment = Comment.find_by(id: params[:id], post_id: params[:post_id])
+    end
+  end
+end
\ No newline at end of file
diff --git a/app/controllers/admin/dashboards_controller.rb b/app/controllers/admin/dashboards_controller.rb
new file mode 100644
index 0000000..a905c81
--- /dev/null
+++ b/app/controllers/admin/dashboards_controller.rb
@@ -0,0 +1,50 @@
+module Admin
+  class DashboardsController < AdminController
+    def show
+      @posts = Post.all
+      @posts_with_location = Post.where.not(lat: nil)
+      @posts_top_interaction = Post.all.sort_by { |p| p.interaction_count }.reverse
+      @users = User.all
+      @users_top_interaction = User.all.sort_by { |u| u.interaction_count }.reverse
+      @likes = PostLike.all
+      @comments = Comment.all
+      @tags = Tag.top_this_week.first(10)
+      last_15_days = (0..14).map{|x| x.day.ago }.reverse
+      last_15_days_users = last_15_days.map do |day|
+        User.where(created_at: day.beginning_of_day..day.end_of_day).count
+      end
+      @user_data = {
+        labels: last_15_days.map{|d| d.strftime("%d %b")},
+        datasets: [
+          {
+            fillColor: "rgba(220,220,220,0.2)",
+            strokeColor: "rgba(220,220,220,1)",
+            pointColor: "rgba(220,220,220,1)",
+            pointStrokeColor: "#fff",
+            pointHighlightFill: "#fff",
+            pointHighlightStroke: "rgba(220,220,220,1)",
+            data: last_15_days_users
+          }
+        ]
+      }
+
+      last_15_days_posts = last_15_days.map do |day|
+        Post.where(created_at: day.beginning_of_day..day.end_of_day).count
+      end
+      @post_data = {
+        labels: last_15_days.map{|d| d.strftime("%d %b")},
+        datasets: [
+          {
+            fillColor: "rgba(220,220,220,0.2)",
+            strokeColor: "rgba(220,220,220,1)",
+            pointColor: "rgba(220,220,220,1)",
+            pointStrokeColor: "#fff",
+            pointHighlightFill: "#fff",
+            pointHighlightStroke: "rgba(220,220,220,1)",
+            data: last_15_days_posts
+          }
+        ]
+      }
+    end
+  end
+end
\ No newline at end of file
diff --git a/app/controllers/admin/post_likes_controller.rb b/app/controllers/admin/post_likes_controller.rb
new file mode 100644
index 0000000..64e7f43
--- /dev/null
+++ b/app/controllers/admin/post_likes_controller.rb
@@ -0,0 +1,40 @@
+module Admin
+  class PostLikesController < AdminController
+    before_action :find_post
+    before_action :find_post_like
+
+    def create
+      post_like = PostLike.new(post_like_params)
+      post_like.post = @post
+      if post_like.save
+        flash[:notice] = 'Like successfully'
+      else
+        flash[:error] = post_like.errors.full_messages.first
+      end
+      redirect_to :back
+    end
+
+    def destroy
+      if @post_like.present? && @post_like.destroy
+        flash[:notice] = 'Destroy the like successfully'
+      else
+        flash[:notice] = 'Fail to destroy the like'
+      end
+      redirect_to :back
+    end
+
+    private
+
+    def post_like_params
+      params.require(:post_like).permit(:user_id)
+    end
+
+    def find_post
+      @post = Post.find_by_id(params[:post_id])
+    end
+
+    def find_post_like
+      @post_like = PostLike.find_by(id: params[:id], post_id: params[:post_id])
+    end
+  end
+end
\ No newline at end of file
diff --git a/app/controllers/admin/posts_controller.rb b/app/controllers/admin/posts_controller.rb
new file mode 100644
index 0000000..159064d
--- /dev/null
+++ b/app/controllers/admin/posts_controller.rb
@@ -0,0 +1,58 @@
+module Admin
+  class PostsController < AdminController
+    before_action :find_post, except: [:index, :new]
+
+    def index
+      @page = params[:page] || 1
+      @per_page = params[:per_page] || 20
+      @posts = Post.all.order(created_at: :desc).page(@page).per(@per_page)
+    end
+
+    def new
+      @post = Post.new
+    end
+
+    def create
+      @post = Post.new(post_params)
+      if @post.save
+        redirect_to admin_posts_path
+      else
+        render :new
+      end
+    end
+
+    def show
+      user_ids = User.all.pluck(:id) - @post.post_likes.pluck(:user_id)
+      @like_as = User.where(id: user_ids)
+      @comment_as = User.all.pluck(:id)
+    end
+
+    def edit
+    end
+
+    def update
+      @post.assign_attributes(post_params)
+      if @post.save
+        redirect_to admin_posts_path
+      else
+        render :edit
+      end
+    end
+
+    def destroy
+      @post.destroy
+      flash[:notice] = 'Destroy the post successfully'
+      redirect_to admin_posts_path
+    end
+
+    private
+
+    def post_params
+      params.require(:post).permit!
+    end
+
+    def find_post
+      @post = Post.find_by_id(params[:id])
+    end
+  end
+end
\ No newline at end of file
diff --git a/app/controllers/admin/users_controller.rb b/app/controllers/admin/users_controller.rb
new file mode 100644
index 0000000..67b7df0
--- /dev/null
+++ b/app/controllers/admin/users_controller.rb
@@ -0,0 +1,7 @@
+module Admin
+  class UsersController < AdminController
+    def index
+      @users = User.all
+    end
+  end
+end
\ No newline at end of file
diff --git a/app/controllers/admin_controller.rb b/app/controllers/admin_controller.rb
new file mode 100644
index 0000000..02b4787
--- /dev/null
+++ b/app/controllers/admin_controller.rb
@@ -0,0 +1,3 @@
+class AdminController < ApplicationController
+  layout 'admin'
+end
diff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb
index 2dbfcf9..6835662 100644
--- a/app/controllers/application_controller.rb
+++ b/app/controllers/application_controller.rb
@@ -1,6 +1,7 @@
 class ApplicationController < ActionController::Base
   # Prevent CSRF attacks by raising an exception.
   # For APIs, you may want to use :null_session instead.
+  #before_action :authenticate_user!
   protect_from_forgery with: :exception
 
   def disable_on_production!
diff --git a/app/controllers/comments_controller.rb b/app/controllers/comments_controller.rb
deleted file mode 100644
index bd3ab5f..0000000
--- a/app/controllers/comments_controller.rb
+++ /dev/null
@@ -1,38 +0,0 @@
-class CommentsController < ApplicationController
-  before_action :find_post
-  before_action :find_comment
-
-  def create
-    comment = Comment.new(comment_params)
-    comment.post = @post
-    if comment.save
-      flash[:notice] = 'Post the comment successfully'
-    else
-      flash[:error] = comment.errors.full_messages.first
-    end
-    redirect_to :back
-  end
-
-  def destroy
-    if @comment.present? && @comment.destroy
-      flash[:notice] = 'Destroy the comment successfully'
-    else
-      flash[:notice] = 'Fail to destroy the comment'
-    end
-    redirect_to :back
-  end
-
-  private
-
-  def comment_params
-    params.require(:comment).permit(:user_id, :content, :parent_id)
-  end
-
-  def find_post
-    @post = Post.find_by_id(params[:post_id])
-  end
-
-  def find_comment
-    @comment = Comment.find_by(id: params[:id], post_id: params[:post_id])
-  end
-end
diff --git a/app/controllers/dashboard_controller.rb b/app/controllers/dashboard_controller.rb
deleted file mode 100644
index 34ee4d3..0000000
--- a/app/controllers/dashboard_controller.rb
+++ /dev/null
@@ -1,48 +0,0 @@
-class DashboardController < ApplicationController
-  def show
-    @posts = Post.all
-    @posts_with_location = Post.where.not(lat: nil)
-    @posts_top_interaction = Post.all.sort_by { |p| p.interaction_count }.reverse
-    @users = User.all
-    @users_top_interaction = User.all.sort_by { |u| u.interaction_count }.reverse
-    @likes = PostLike.all
-    @comments = Comment.all
-    @tags = Tag.top_this_week.first(10)
-    last_15_days = (0..14).map{|x| x.day.ago }.reverse
-    last_15_days_users = last_15_days.map do |day|
-      User.where(created_at: day.beginning_of_day..day.end_of_day).count
-    end
-    @user_data = {
-      labels: last_15_days.map{|d| d.strftime("%d %b")},
-      datasets: [
-        {
-          fillColor: "rgba(220,220,220,0.2)",
-          strokeColor: "rgba(220,220,220,1)",
-          pointColor: "rgba(220,220,220,1)",
-          pointStrokeColor: "#fff",
-          pointHighlightFill: "#fff",
-          pointHighlightStroke: "rgba(220,220,220,1)",
-          data: last_15_days_users
-        }
-      ]
-    }
-
-    last_15_days_posts = last_15_days.map do |day|
-      Post.where(created_at: day.beginning_of_day..day.end_of_day).count
-    end
-    @post_data = {
-      labels: last_15_days.map{|d| d.strftime("%d %b")},
-      datasets: [
-        {
-          fillColor: "rgba(220,220,220,0.2)",
-          strokeColor: "rgba(220,220,220,1)",
-          pointColor: "rgba(220,220,220,1)",
-          pointStrokeColor: "#fff",
-          pointHighlightFill: "#fff",
-          pointHighlightStroke: "rgba(220,220,220,1)",
-          data: last_15_days_posts
-        }
-      ]
-    }
-  end
-end
diff --git a/app/controllers/post_likes_controller.rb b/app/controllers/post_likes_controller.rb
deleted file mode 100644
index 510b972..0000000
--- a/app/controllers/post_likes_controller.rb
+++ /dev/null
@@ -1,38 +0,0 @@
-class PostLikesController < ApplicationController
-  before_action :find_post
-  before_action :find_post_like
-
-  def create
-    post_like = PostLike.new(post_like_params)
-    post_like.post = @post
-    if post_like.save
-      flash[:notice] = 'Like successfully'
-    else
-      flash[:error] = post_like.errors.full_messages.first
-    end
-    redirect_to :back
-  end
-
-  def destroy
-    if @post_like.present? && @post_like.destroy
-      flash[:notice] = 'Destroy the like successfully'
-    else
-      flash[:notice] = 'Fail to destroy the like'
-    end
-    redirect_to :back
-  end
-
-  private
-
-  def post_like_params
-    params.require(:post_like).permit(:user_id)
-  end
-
-  def find_post
-    @post = Post.find_by_id(params[:post_id])
-  end
-
-  def find_post_like
-    @post_like = PostLike.find_by(id: params[:id], post_id: params[:post_id])
-  end
-end
diff --git a/app/controllers/posts_controller.rb b/app/controllers/posts_controller.rb
deleted file mode 100644
index fc8df71..0000000
--- a/app/controllers/posts_controller.rb
+++ /dev/null
@@ -1,57 +0,0 @@
-class PostsController < ApplicationController
-  before_action :find_post, except: [:index, :new]
-
-  def index
-    @page = params[:page] || 1
-    @per_page = params[:per_page] || 20
-    @posts = Post.all.order(created_at: :desc).page(@page).per(@per_page)
-  end
-
-  def new
-    @post = Post.new
-  end
-
-  def create
-    @post = Post.new(post_params)
-    if @post.save
-      redirect_to posts_path
-    else
-      render :new
-    end
-  end
-
-  def show
-    user_ids = User.all.pluck(:id) - @post.post_likes.pluck(:user_id)
-    @like_as = User.where(id: user_ids)
-    @comment_as = User.all.pluck(:id)
-  end
-
-  def edit
-    @post.assign_attributes()
-  end
-
-  def update
-    @post.assign_attributes(post_params)
-    if @post.save
-      redirect_to posts_path
-    else
-      render :edit
-    end
-  end
-
-  def destroy
-    @post.destroy
-    flash[:notice] = 'Destroy the post successfully'
-    redirect_to posts_path
-  end
-
-  private
-
-  def post_params
-    params.require(:post).permit!
-  end
-
-  def find_post
-    @post = Post.find_by_id(params[:id])
-  end
-end
diff --git a/app/controllers/static_controller.rb b/app/controllers/static_controller.rb
new file mode 100644
index 0000000..9f98bce
--- /dev/null
+++ b/app/controllers/static_controller.rb
@@ -0,0 +1,5 @@
+class StaticController < ApplicationController
+  def landing_page
+
+  end
+end
diff --git a/app/controllers/user/omniauth_callbacks_controller.rb b/app/controllers/user/omniauth_callbacks_controller.rb
new file mode 100644
index 0000000..86bdccd
--- /dev/null
+++ b/app/controllers/user/omniauth_callbacks_controller.rb
@@ -0,0 +1,52 @@
+class User::OmniauthCallbacksController < Devise::OmniauthCallbacksController
+  def facebook
+    auth = request.env["omniauth.auth"]
+    @user = User.where(provider: auth.provider, uid: auth.uid).first
+    unless @user
+      if auth.info.email.blank?
+        session["devise.facebook_user"] = {
+          first_name: auth.info.first_name,
+          last_name: auth.info.last_name,
+          email: auth.info.email,
+          uid: auth.uid,
+          provider: "facebook",
+          avatar_image: "https://graph.facebook.com/#{auth.uid}/picture?type=large",
+          facebook_expires_at: auth.credentials.expires_at,
+          facebook_token: auth.credentials.token
+        }
+        redirect_to new_user_registration_path(return_to: request.env['omniauth.origin'])
+        return
+      end
+
+      @user ||= User.where(email: auth.info.email).first
+      @user ||= User.new
+      @user.assign_fb_attributes(auth)
+      # set a random password if no password currently set
+      # works for both a new user, and a user that was previously imported from another system
+      unless @user.encrypted_password
+        new_password = SecureRandom.hex(10)
+        @user.password = @user.password_confirmation = new_password
+      end
+
+      if session[:referrer_id].present? && (@referrer = User.find_by_id(session[:referrer_id])).present?
+        @user.referrer = @referrer
+        session.delete(:referral_id)
+      end
+      @user.save
+    end
+
+    sign_in_and_redirect @user, :event => :authentication
+    set_flash_message(:notice, :success, :kind => "Facebook") if is_navigational_format?
+    # session["devise.facebook_user"] = @user
+    # if request.env['omniauth.origin']
+    #   if request.env['omniauth.origin'].in? [new_user_session_url, new_user_registration_url]
+    #     redirect_to new_user_registration_path
+    #   else
+    #     redirect_to request.env['omniauth.origin']
+    #   end
+    # else
+    #   redirect_to new_user_registration_path
+    # end
+  end
+end
+
diff --git a/app/controllers/user/registrations_controller.rb b/app/controllers/user/registrations_controller.rb
new file mode 100644
index 0000000..c9cd92d
--- /dev/null
+++ b/app/controllers/user/registrations_controller.rb
@@ -0,0 +1,110 @@
+class User::RegistrationsController < Devise::RegistrationsController
+  skip_before_action :authenticate_user!
+
+  def new
+    build_resource({})
+    if session["devise.facebook_user"]
+      resource.assign_attributes(session["devise.facebook_user"])
+    end
+    respond_with self.resource
+  end
+
+  def create
+    build_resource(sign_up_params)
+
+    # Handle extra required fields for the registration
+    required_fields = params[:required_fields].to_s.split(",")
+    resource.registration_required_fields = required_fields
+
+    resource.save
+    if resource.persisted?
+      if resource.active_for_authentication?
+        set_flash_message :notice, :signed_up if is_flashing_format?
+        sign_up(resource_name, resource)
+        respond_with resource, location: after_sign_up_path_for(resource)
+      else
+        set_flash_message :notice, :"signed_up_but_#{resource.inactive_message}" if is_flashing_format?
+        expire_data_after_sign_in!
+        respond_with resource, location: after_inactive_sign_up_path_for(resource)
+      end
+    else
+      clean_up_passwords resource
+      render after_sign_up_render_for(resource)
+    end
+  end
+
+  def update
+    super
+  end
+
+  private
+
+  def skip_signup_modal
+    @skip_signup_modal = true
+  end
+
+  def build_resource(hash=nil)
+    hash ||= {}
+    if hash[:email].present?
+      if user = User.find_by(email: hash[:email])
+        if user.encrypted_password.blank?
+          self.resource = user
+          self.resource.attributes = hash
+        else
+          super
+        end
+      else
+        super
+      end
+    else
+      super
+    end
+  end
+
+  def after_sign_up_path_for(resource)
+    if params[:register_for] == "waitlist"
+      @box = Box.approved.find_by_slug params[:box_slug]
+      @box ? waitlist_shopping_path(@box) : super
+    elsif params[:register_for] == "checkout"
+      checkout_cart_path
+    elsif params[:register_for] == "expert"
+      new_expert_register_path
+    elsif params[:register_for] == "promoter"
+      new_promoter_register_path
+    else
+      session[:user_return_to] = params[:return_to]
+      super
+    end
+  end
+
+  def after_sign_up_render_for(resource)
+    if params[:register_for] == "waitlist"
+      @box = Box.approved.find_by_slug params[:box_slug]
+      @box ? "shoppings/waitlist" : "devise/registrations/new"
+    elsif params[:register_for] == "checkout"
+      session[:order] ||= {}
+      @cart = ShoppingCart.new(session, resource)
+      @order = @cart.order
+      @user = @cart.user
+      "carts/checkout"
+    elsif params[:register_for] == "expert"
+      @role = :expert
+      @login_path = new_expert_register_path(account: :login)
+      "expert/register/new"
+    elsif params[:register_for] == "promoter"
+      @role = :promoter
+      @login_path = new_promoter_register_path(account: :login)
+      "promoter/register/new"
+    elsif params[:register_for] == "referrer"
+      @referrer = User.find_by_id resource.referrer_id
+      "user/profile/referrer"
+    else
+      "devise/registrations/new"
+    end
+  end
+
+  def sign_up_params
+    params.require(:user).permit(:first_name, :last_name, :email, :phone, :alias, :uid, :provider, :facebook_expires_at, :facebook_token, :password, :password_confirmation, :avatar_image, :referrer_id, :address, :province_id, :district_id, :ward)
+  end
+end
+
diff --git a/app/controllers/user/sessions_controller.rb b/app/controllers/user/sessions_controller.rb
new file mode 100644
index 0000000..fa83684
--- /dev/null
+++ b/app/controllers/user/sessions_controller.rb
@@ -0,0 +1,104 @@
+class User::SessionsController < Devise::SessionsController
+  before_filter :skip_signup_modal
+
+  def create
+    self.resource = warden.authenticate(auth_options)
+    if self.resource
+      set_flash_message(:notice, :signed_in) if is_flashing_format?
+      sign_in(resource_name, resource)
+      yield resource if block_given?
+
+      if params[:login_for] == "checkout"
+        render js: "window.location='#{checkout_cart_path}'"
+      elsif params[:login_for] == 'popup_login'
+        render js: "window.location='#{params[:after_login_path]}'"
+      else
+        if request.xhr?
+          return
+        else
+          respond_with resource, location: after_sign_in_path_for(resource)
+        end
+      end
+    else
+      self.resource ||= User.new
+      flash.now[:alert] = i18n_message(:invalid)
+      if params[:login_for] == "waitlist"
+        @box = Box.approved.find_by_slug params[:box_slug]
+        if @box
+          render template: "shoppings/waitlist"
+        else
+          render template: "devise/sessions/new"
+        end
+      elsif params[:login_for] == "checkout"
+        session[:order] ||= {}
+        @cart = ShoppingCart.new(session, resource)
+        @order = @cart.order
+        @user = @cart.user
+        respond_to do |format|
+          format.html {
+            render template: "carts/checkout"
+          }
+          format.js {
+            render template: "user/sessions/create.js.erb"
+          }
+        end
+      elsif params[:login_for] == 'popup_login'
+        resource.errors.add(:error, i18n_message(:invalid))
+        render 'shared/popup_login/failed.js.erb'
+      else
+        if request.xhr?
+          return
+        else
+          render template: "devise/sessions/new"
+        end
+      end
+    end
+  end
+
+  def after_sign_in_path_for(resource)
+    if params[:login_for] == "waitlist"
+      @box = Box.approved.find_by_slug params[:box_slug]
+      @box ? waitlist_shopping_path(@box) : super
+    elsif params[:login_for] == "checkout"
+      checkout_cart_path
+    elsif params[:login_for] == "expert"
+      new_expert_register_path
+    elsif params[:login_for] == "promoter"
+      new_promoter_register_path
+    elsif params[:login_for] == "topic"
+      params[:login_return_path] || topics_path
+    else
+      session[:user_return_to] = params[:return_to]
+      super
+    end
+  end
+
+  def i18n_message(message)
+    if message.is_a?(Symbol)
+      options = {}
+      options[:resource_name] = :user
+      options[:scope] = "devise.failure"
+      options[:default] = [message]
+      auth_keys = scope_class.authentication_keys
+      keys = auth_keys.respond_to?(:keys) ? auth_keys.keys : auth_keys
+      options[:authentication_keys] = keys.join(I18n.translate(:"support.array.words_connector"))
+
+      I18n.t(:"#{scope}.#{message}", options)
+    else
+      message.to_s
+    end
+  end
+
+  def scope
+    @scope ||= Devise.default_scope
+  end
+
+  def scope_class
+    @scope_class ||= Devise.mappings[scope].to
+  end
+
+  def skip_signup_modal
+    @skip_signup_modal = true
+  end
+end
+
diff --git a/app/controllers/users_controller.rb b/app/controllers/users_controller.rb
deleted file mode 100644
index 0b39988..0000000
--- a/app/controllers/users_controller.rb
+++ /dev/null
@@ -1,5 +0,0 @@
-class UsersController < ApplicationController
-  def index
-    @users = User.all
-  end
-end
diff --git a/app/models/post.rb b/app/models/post.rb
index 4d6febd..972e8e0 100644
--- a/app/models/post.rb
+++ b/app/models/post.rb
@@ -38,7 +38,7 @@ class Post < ActiveRecord::Base
     if post_type == 'crawl'
       return nil
     else
-      return user.id
+      return user.try(:id)
     end
   end
 
diff --git a/app/models/user.rb b/app/models/user.rb
index 3c8b1ee..f6f9b63 100644
--- a/app/models/user.rb
+++ b/app/models/user.rb
@@ -36,6 +36,13 @@ class User < ActiveRecord::Base
     # Basic information
     self.first_name ||= auth.info.first_name
     self.last_name ||= auth.info.last_name
+
+    if self.first_name.blank? && self.last_name.blank? && auth.info.name.present?
+      name_splits = auth.info.name.split(' ')
+      self.first_name = name_splits.first
+      self.last_name = name_splits[1..(name_splits.length - 1)].join(' ')
+    end
+
     self.email ||= auth.info.email
     self.uid = auth.uid
     self.provider = "facebook"
@@ -97,6 +104,10 @@ class User < ActiveRecord::Base
     Time.current.beginning_of_year.year - birthday.beginning_of_year.year
   end
 
+  def is_store?
+    true
+  end
+
   private
 
   def api?
diff --git a/app/views/admin/comments/_new.html.haml b/app/views/admin/comments/_new.html.haml
new file mode 100644
index 0000000..a0afd90
--- /dev/null
+++ b/app/views/admin/comments/_new.html.haml
@@ -0,0 +1,8 @@
+- comment ||= nil
+= form_for Comment.new, url: admin_post_comments_path(post), method: :post do |f|
+  = f.hidden_field :parent_id, value: comment.try(:id)
+  .form-group
+    = f.select :user_id, User.all.map {|u| ["#{u.name} (#{u.email})", u.id]}, {}, class: 'form-control'
+    = f.text_area :content, class: 'form-control top-6'
+  .text-right
+    = f.submit 'Comment', class: 'btn btn-primary'
diff --git a/app/views/admin/comments/_show.html.haml b/app/views/admin/comments/_show.html.haml
new file mode 100644
index 0000000..a1ed581
--- /dev/null
+++ b/app/views/admin/comments/_show.html.haml
@@ -0,0 +1,15 @@
+.comment{comment_id: comment.id}
+  .heading
+    - if comment.user.avatar.present?
+      .avatar= image_tag comment.user.avatar
+    .name= link_to "#{comment.user.name} (#{comment.user.email})", admin_user_path(comment.user)
+    = link_to 'Delete', admin_post_comment_path(comment.post, comment), method: :delete, class: 'label label-danger'
+  .body
+    .date= time_ago_in_words(comment.created_at)
+    .content= simple_format(comment.content)
+    .child_comments
+      - comment.child_comments.each do |comment|
+        = render 'admin/comments/show', comment: comment
+      - if comment.parent_comment.blank?
+        .new_comment
+          = render 'admin/comments/new', post: comment.post, comment: comment
diff --git a/app/views/admin/dashboards/show.html.haml b/app/views/admin/dashboards/show.html.haml
new file mode 100644
index 0000000..79ac618
--- /dev/null
+++ b/app/views/admin/dashboards/show.html.haml
@@ -0,0 +1,318 @@
+.container-fluid
+  .general.row
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          User
+        .panel-body.text-center
+          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @users.count
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          Post
+        .panel-body.text-center
+          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @posts.count
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          Likes
+        .panel-body.text-center
+          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @likes.count
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          Comments
+        .panel-body.text-center
+          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @comments.count
+    .clearfix
+  .fancy
+    .panel.panel-primary
+      .panel-heading
+        Post graph
+      .panel-body
+        .post_graph
+          %canvas{id: "postGraph", height: "400"}
+  .more_fancy.row
+    .col-md-6
+      .panel.panel-primary
+        .panel-heading
+          Post distributing map
+        .panel-body
+          #map{style: 'width: 100%; height: 600px; background-color: #CCC;'}
+          %script{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDSAyIA48rQ8VJtuJ140hblQaU3XCrT6bI&callback=initMap", async: true, defer: true}
+          :javascript
+            function initMap() {
+              var mapDiv = document.getElementById('map');
+              var map = new google.maps.Map(mapDiv, {
+                center: {lat: #{@posts_with_location.first.lat}, lng: #{@posts_with_location.first.long}},
+                zoom: 10
+              });
+              var locations = JSON.parse('#{j(@posts_with_location.map {|p| [p.lat, p.long, p.user_name, p.description, admin_post_path(p)]}.to_json)}');
+              for (var i = 0; i < locations.length; i++) {
+                var marker = new google.maps.Marker({
+                  position: {lat: locations[i][0], lng: locations[i][1]},
+                  map: map,
+                  index: i
+                });
+                locations[i][5] = marker;
+                var infowindow = new google.maps.InfoWindow({
+                  content: '<a target="_blank" href="' + locations[i][4] + '">Open post</a></p></p>'
+                });
+                locations[i][6] = infowindow;
+                marker.addListener('click', function(event) {
+                  locations[this.index][6].open(map, locations[this.index][5]);
+                  event.preventDefault();
+                });
+              }
+            }
+    .col-md-6
+      .row
+        .col-md-6
+          .panel.panel-primary
+            .panel-heading
+              Top tag this week
+            .panel-body
+              - @tags.each do |tag|
+                .tag
+                  .pull-left= tag.name
+                  .pull-right.label.label-danger= PostTag.where(tag_id: tag.id).count
+                  .clearfix
+        .col-md-6
+          .panel.panel-primary
+            .panel-heading
+              Top interaction this week
+            .panel-body
+              - @posts_top_interaction.first(10).each do |post|
+                .post
+                  .pull-left= link_to "##{post.id}", admin_post_path(post)
+                  .pull-right
+                    .label.label-danger
+                      = post.comments.count
+                      comments
+                    .label.label-success
+                      = post.post_likes.count
+                      likes
+                  .clearfix
+        .clearfix
+    .col-md-6
+      .panel.panel-primary
+        .panel-heading
+          Post interact segments
+        .panel-body
+          .row
+            .col-md-6
+              .post_like_graph
+                %canvas{id: "postLikeGraph", height: "250"}
+              .top-10.text-center
+                Likes segment
+            .col-md-6
+              .admin_post_comment_graph
+                %canvas{id: "postCommentGraph", height: "250"}
+              .top-10.text-center
+                Comments segment
+            .clearfix
+  .another_fancy
+    .panel.panel-primary
+      .panel-heading
+        User graph
+      .panel-body
+        .user_graph
+          %canvas{id: "userChart", height: "400"}
+  .much_more_fancy.row
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          Top users this week
+        .panel-body
+          - @users_top_interaction.first(10).each do |user|
+            .user_row{user_id: user.id}
+              .left
+                - if user.avatar.present?
+                  .avatar= image_tag user.avatar.url(:thumb)
+                .name= link_to user.name, admin_user_path(user)
+              .right
+                .label.label-info
+                  = user.posts.count
+                  p
+                .label.label-danger
+                  = user.comments.count
+                  c
+                .label.label-success
+                  = user.post_likes.count
+                  l
+    .col-md-3
+      .panel.panel-primary
+        .panel-heading
+          Newest users
+        .panel-body
+          - User.order(created_at: :desc).limit(10).each do |user|
+            .user_row{user_id: user.id}
+              .left
+                - if user.avatar.present?
+                  .avatar= image_tag user.avatar.url(:thumb)
+                .name= link_to user.name, admin_user_path(user)
+    .col-md-6
+      .panel.panel-primary
+        .panel-heading
+          User distribution
+        .panel-body
+          .row
+            .col-md-6
+              .user_age_graph
+                %canvas{id: "userAgeGraph", height: "250"}
+              .top-10.text-center
+                Age segment
+            .col-md-6
+              .user_active_graph
+                %canvas{id: "userActiveGraph", height: "250"}
+              .top-10.text-center
+                Active segment
+    .clearfix
+:javascript
+  $(function() {
+    var userCanvas, userChart, lineUserChart;
+    var user_type = "days";
+    var user_method = "all"
+    var userOptions = {
+      tooltipTemplate: function(valuesObject){
+        return valuesObject.label + ": " + valuesObject.value + " posts";
+      }
+    }
+    var width = $(".user_graph").width();
+    userCanvas = document.getElementById("userChart");
+    userCanvas.width = width;
+    var ctx = userCanvas.getContext("2d");
+    userChart = new Chart(ctx);
+    lineUserChart = userChart.Line(JSON.parse('#{j(@user_data.to_json)}'), userOptions);
+
+    var postsCanvas, postGraph, lineUserChart;
+    var posts_type = "days";
+    var posts_method = "all"
+    var postsOptions = {
+      tooltipTemplate: function(valuesObject){
+        return valuesObject.label + ": " + valuesObject.value + " posts";
+      }
+    }
+    var width = $(".post_graph").width();
+    postsCanvas = document.getElementById("postGraph");
+    postsCanvas.width = width;
+    var ctx = postsCanvas.getContext("2d");
+    postGraph = new Chart(ctx);
+    lineUserChart = postGraph.Line(JSON.parse('#{j(@post_data.to_json)}'), userOptions);
+
+    var postLikeGraphData = [
+      {
+          value: #{@posts.select { |p| p.post_likes.count < 5}.length},
+          color:"#F7464A",
+          highlight: "#FF5A5E",
+          label: "Likes below 5"
+      },
+      {
+          value: #{@posts.select { |p| (5..10).include?(p.post_likes.count)}.length},
+          color: "#46BFBD",
+          highlight: "#5AD3D1",
+          label: "Likes from 5 to 10"
+      },
+      {
+          value: #{@posts.select { |p| (11..20).include?(p.post_likes.count)}.length},
+          color: "#FDB45C",
+          highlight: "#FFC870",
+          label: "Likes from 10 to 20"
+      },
+      {
+          value: #{@posts.select { |p| p.post_likes.count > 20}.length},
+          color: "#5ca6fc",
+          highlight: "#7cb8ff",
+          label: "Likes above 20"
+      }
+    ]
+    var width = $(".post_like_graph").width();
+    var postLikeCanvas = document.getElementById("postLikeGraph");
+    var ctx = postLikeCanvas.getContext("2d");
+    postLikeCanvas.width = width;
+    var postLikeGraph = new Chart(ctx).Doughnut(postLikeGraphData);
+
+    var postCommentGraphData = [
+      {
+          value: #{@posts.select { |p| p.comments.count < 5}.length},
+          color:"#F7464A",
+          highlight: "#FF5A5E",
+          label: "Comments below 5"
+      },
+      {
+          value: #{@posts.select { |p| (5..10).include?(p.comments.count)}.length},
+          color: "#46BFBD",
+          highlight: "#5AD3D1",
+          label: "Comments from 5 to 10"
+      },
+      {
+          value: #{@posts.select { |p| (11..20).include?(p.comments.count)}.length},
+          color: "#FDB45C",
+          highlight: "#FFC870",
+          label: "Comments from 10 to 20"
+      },
+      {
+          value: #{@posts.select { |p| p.comments.count > 20}.length},
+          color: "#5ca6fc",
+          highlight: "#7cb8ff",
+          label: "Comments above 20"
+      }
+    ]
+    var width = $(".admin_post_comment_graph").width();
+    var postCommentCanvas = document.getElementById("postCommentGraph");
+    var ctx = postCommentCanvas.getContext("2d");
+    postCommentCanvas.width = width;
+    var postCommentGraph = new Chart(ctx).Doughnut(postCommentGraphData);
+
+    var userAgeGraph = [
+      {
+          value: #{@users.select { |u| u.age.present? && u.age < 17}.length},
+          color:"#F7464A",
+          highlight: "#FF5A5E",
+          label: "Age below 17"
+      },
+      {
+          value: #{@users.select { |u| u.age.present? && (17..25).include?( u.age )}.length},
+          color: "#46BFBD",
+          highlight: "#5AD3D1",
+          label: "Age from 17 - 25"
+      },
+      {
+          value: #{@users.select { |u| u.age.present? && (25..30).include?(u.age)}.length},
+          color: "#FDB45C",
+          highlight: "#FFC870",
+          label: "Age from 25 - 30"
+      },
+      {
+          value: #{@users.select { |u| u.age.present? && u.age > 30}.length},
+          color: "#5ca6fc",
+          highlight: "#7cb8ff",
+          label: "Aget above 30"
+      }
+    ]
+    var width = $(".user_age_graph").width();
+    var userAgeCanvse = document.getElementById("userAgeGraph");
+    var ctx = userAgeCanvse.getContext("2d");
+    userAgeCanvse.width = width;
+    var userAgeGraph = new Chart(ctx).Doughnut(userAgeGraph);
+
+    var userActiveGraph = [
+      {
+          value: #{@users.select { |u| u.posts.present? || u.comments.present? }.length},
+          color:"#F7464A",
+          highlight: "#FF5A5E",
+          label: "Inactive user"
+      },
+      {
+          value: #{@users.select { |u| u.posts.blank? || u.comments.blank?}.length},
+          color: "#46BFBD",
+          highlight: "#5AD3D1",
+          label: "Active user"
+      }
+    ]
+    var width = $(".user_active_graph").width();
+    var userActiveCanvse = document.getElementById("userActiveGraph");
+    var ctx = userActiveCanvse.getContext("2d");
+    userActiveCanvse.width = width;
+    var userActiveGraph = new Chart(ctx).Doughnut(userActiveGraph);
+  });
diff --git a/app/views/admin/post_likes/_new.html.haml b/app/views/admin/post_likes/_new.html.haml
new file mode 100644
index 0000000..05b729f
--- /dev/null
+++ b/app/views/admin/post_likes/_new.html.haml
@@ -0,0 +1,5 @@
+- return unless users.present?
+= form_for PostLike.new, url: admin_post_post_likes_path(post), method: :post, class: 'top-10' do |f|
+  = f.select :user_id, users.map {|u| ["#{u.name} (#{u.email})", u.id]}, {}, class: 'form-control'
+  .text-center.top-6
+    = f.submit 'Like as this user', class: 'btn btn-primary'
diff --git a/app/views/admin/post_likes/_show.html.haml b/app/views/admin/post_likes/_show.html.haml
new file mode 100644
index 0000000..50f99b0
--- /dev/null
+++ b/app/views/admin/post_likes/_show.html.haml
@@ -0,0 +1,5 @@
+%tr{post_like_id: post_like.user.id}
+  %td= image_tag post_like.user.avatar.url(:thumb) if post_like.user.avatar.present?
+  %td= link_to "#{post_like.user.name} (#{post_like.user.email})", admin_user_path(post_like.user)
+  %td #{time_ago_in_words(post_like.created_at)} ago
+  %td= link_to 'Delete', admin_post_post_like_path(post_like.post, post_like), method: :delete, class: 'label label-danger'
diff --git a/app/views/admin/posts/_form.html.haml b/app/views/admin/posts/_form.html.haml
new file mode 100644
index 0000000..3218c25
--- /dev/null
+++ b/app/views/admin/posts/_form.html.haml
@@ -0,0 +1,11 @@
+.form-group
+  = f.label :user_id
+  = f.select :user_id, User.all.map {|u| [u.name, u.id]}, {}, class: 'form-control'
+.form-group
+  = f.label :picture
+  = f.file_field :picture, class: 'form-control'
+.form-group
+  = f.label :description
+  = f.text_area :description, class: 'form-control'
+.form-group.text-center
+  = f.submit class: 'btn btn-primary'
diff --git a/app/views/admin/posts/edit.html.haml b/app/views/admin/posts/edit.html.haml
new file mode 100644
index 0000000..e69de29
diff --git a/app/views/admin/posts/index.html.haml b/app/views/admin/posts/index.html.haml
new file mode 100644
index 0000000..550a947
--- /dev/null
+++ b/app/views/admin/posts/index.html.haml
@@ -0,0 +1,49 @@
+.container-fluid
+  .panel.panel-default
+    .panel-heading
+      List of posts
+    .panel-body
+      - if @posts.present?
+        %table.table
+          %thead
+            %tr
+              %th
+              %th Post
+              %th User
+              %th Interaction
+              %th Other information
+              %th Timestamp
+          %tbody
+            - @posts.each do |post|
+              %tr{post_id: post.id}
+                %td{style: 'width: 50px'}
+                  = link_to admin_post_path(post) do
+                    \##{post.id}
+                %td{style: 'width: 300px; height: auto;'}
+                  = image_tag post.picture.url(:fb_image_thumb), class: 'img-responsive' if post.picture.present?
+                  %p= post.description
+                %td{style: 'width: 300px'}
+                  = post.user_name
+                  - if post.user.present?
+                    (#{link_to post.user.email, admin_user_path(post.user)})
+                %th
+                  %li #{post.post_likes.count} likes
+                  %li #{post.comments.count} comments
+                %td
+                  - if post.lat.present?
+                    %li Latitude: #{post.lat}
+                  - if post.long.present?
+                    %li Longitude: #{post.long}
+                %th
+                  %li Created #{time_ago_in_words(post.created_at)} ago
+                  - if post.post_likes.present?
+                    %li Last like #{time_ago_in_words(post.post_likes.last.created_at)} ago
+                  - if post.comments.present?
+                    %li Last comment #{time_ago_in_words(post.comments.last.created_at)} ago
+        .dataTables_footer.clearfix
+          .col-md-6
+            .dataTables_info Total #{@posts.total_count} results.
+          .col-md-6
+            .dataTables_paginate.paging_bootstrap= paginate @posts
+      - else
+        .text-center No posts found
diff --git a/app/views/admin/posts/new.html.haml b/app/views/admin/posts/new.html.haml
new file mode 100644
index 0000000..2007140
--- /dev/null
+++ b/app/views/admin/posts/new.html.haml
@@ -0,0 +1,8 @@
+.container-fluid
+  .panel.panel-default.col-md-6.col-md-offset-3
+    .panel-heading
+      New post
+    .panel-body
+      = form_for @post, url: admin_posts_path do |f|
+        = render 'admin/posts/form', f: f
+  .clearfix
diff --git a/app/views/admin/posts/show.html.haml b/app/views/admin/posts/show.html.haml
new file mode 100644
index 0000000..7646542
--- /dev/null
+++ b/app/views/admin/posts/show.html.haml
@@ -0,0 +1,99 @@
+.container-fluid
+  .panel.panel-default
+    .panel-heading
+      Basic information
+    .panel-body
+      .col-md-6
+        = image_tag @post.picture.url(:fb_image), class: 'img-responsive'
+      .col-md-6
+        .form-group
+          %label Post id
+          .content= @post.id
+        .form-group
+          %label User
+          .content
+            = @post.user_name
+            - if @post.user.present?
+              (#{link_to @post.user.email, admin_user_path(@post.user)})
+        .form-group
+          %label Description
+          .content
+            = simple_format(@post.description)
+        - if @post.promotion_type.present?
+          .form-group
+            %label Promotion
+            .content
+              #{@post.promotion_type} #{@post.promotion_value}
+        - if @post.lat.present? && @post.long.present?
+          .form-group
+            %label Lat, long
+            .content #{@post.lat}, #{@post.long}
+        .form-group
+          %label Created at
+          .content
+            = time_ago_in_words(@post.created_at)
+            ago
+        .form-group
+          = link_to 'Destroy', admin_post_path(@post), method: :delete, class: 'btn btn-danger'
+      .clearfix
+  .row
+    - colclass = 'col-md-12'
+    - if @post.lat.present? && @post.long.present?
+      - colclass = 'col-md-6'
+      .col-md-6
+        .panel.panel-default
+          .panel-heading
+            Map
+          .panel-body
+            #map{style: 'width: 100%; height: 400px; background-color: #CCC;'}
+            %script{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDSAyIA48rQ8VJtuJ140hblQaU3XCrT6bI&callback=initMap", async: true, defer: true}
+            :javascript
+              function initMap() {
+                var mapDiv = document.getElementById('map');
+                var map = new google.maps.Map(mapDiv, {
+                  center: {lat: #{@post.lat}, lng: #{@post.long}},
+                  zoom: 12
+                });
+                 var marker = new google.maps.Marker({
+                  position: {lat: #{@post.lat}, lng: #{@post.long}},
+                  map: map
+                });
+              }
+    %div{class: colclass}
+      .panel.panel-default
+        .panel-heading
+          .pull-left
+            Likes
+          .pull-right
+            - if @post.post_likes.present?
+              = @post.post_likes.count
+              likes
+          .clearfix
+        .panel-body
+          - if @post.post_likes.blank?
+            .text-center
+              No likes yet
+          - else
+            %table.table
+              - @post.post_likes.order(created_at: :desc).each do |post_like|
+                = render 'admin/post_likes/show', post_like: post_like
+          .new_like= render 'admin/post_likes/new', users: @like_as, post: @post
+      .panel.panel-default
+        .panel-heading
+          .pull-left
+            Comments
+          .pull-right
+            - if @post.comments.present?
+              = @post.comments.count
+              comments
+          .clearfix
+        .panel-body
+          - if @post.comments.blank?
+            .text-center
+              No comments yet
+          - else
+            %table
+              - @post.comments.root.in_order.each do |comment|
+                = render 'admin/comments/show', comment: comment
+          .new_comment= render 'admin/comments/new', post: @post
+    .clearfix
diff --git a/app/views/admin/users/_form.html.haml b/app/views/admin/users/_form.html.haml
new file mode 100644
index 0000000..3218c25
--- /dev/null
+++ b/app/views/admin/users/_form.html.haml
@@ -0,0 +1,11 @@
+.form-group
+  = f.label :user_id
+  = f.select :user_id, User.all.map {|u| [u.name, u.id]}, {}, class: 'form-control'
+.form-group
+  = f.label :picture
+  = f.file_field :picture, class: 'form-control'
+.form-group
+  = f.label :description
+  = f.text_area :description, class: 'form-control'
+.form-group.text-center
+  = f.submit class: 'btn btn-primary'
diff --git a/app/views/admin/users/edit.html.haml b/app/views/admin/users/edit.html.haml
new file mode 100644
index 0000000..e69de29
diff --git a/app/views/admin/users/index.html.haml b/app/views/admin/users/index.html.haml
new file mode 100644
index 0000000..45761f1
--- /dev/null
+++ b/app/views/admin/users/index.html.haml
@@ -0,0 +1,30 @@
+.container-fluid
+  .panel.panel-default
+    .panel-heading
+      List of users
+    .panel-body
+      - if @users.present?
+        %table.table
+          %thead
+            %tr
+              %th
+              %th Id
+              %th Email
+              %th First name
+              %th Last name
+              %th Phone
+              %th Facebook
+              %th Access Token
+          %tbody
+            - @users.each do |user|
+              %tr{user_id: user.id}
+                %td{style: 'width: 100px'}= image_tag user.avatar.url(:thumb) if user.avatar.present?
+                %td{style: 'width: 50px'} ##{user.id}
+                %td= user.email
+                %td= user.first_name
+                %td= user.last_name
+                %td= user.phone
+                %td= link_to(user.uid, "https://facebook.com/#{user.uid}") if user.uid.present?
+                %td= user.authentication_token
+      - else
+        .text-center No users found
diff --git a/app/views/comments/_new.html.haml b/app/views/comments/_new.html.haml
deleted file mode 100644
index eec98e2..0000000
--- a/app/views/comments/_new.html.haml
+++ /dev/null
@@ -1,8 +0,0 @@
-- comment ||= nil
-= form_for Comment.new, url: post_comments_path(post), method: :post do |f|
-  = f.hidden_field :parent_id, value: comment.try(:id)
-  .form-group
-    = f.select :user_id, User.all.map {|u| ["#{u.name} (#{u.email})", u.id]}, {}, class: 'form-control'
-    = f.text_area :content, class: 'form-control top-6'
-  .text-right
-    = f.submit 'Comment', class: 'btn btn-primary'
diff --git a/app/views/comments/_show.html.haml b/app/views/comments/_show.html.haml
deleted file mode 100644
index aea22fe..0000000
--- a/app/views/comments/_show.html.haml
+++ /dev/null
@@ -1,15 +0,0 @@
-.comment{comment_id: comment.id}
-  .heading
-    - if comment.user.avatar.present?
-      .avatar= image_tag comment.user.avatar
-    .name= link_to "#{comment.user.name} (#{comment.user.email})", user_path(comment.user)
-    = link_to 'Delete', post_comment_path(comment.post, comment), method: :delete, class: 'label label-danger'
-  .body
-    .date= time_ago_in_words(comment.created_at)
-    .content= simple_format(comment.content)
-    .child_comments
-      - comment.child_comments.each do |comment|
-        = render 'comments/show', comment: comment
-      - if comment.parent_comment.blank?
-        .new_comment
-          = render 'comments/new', post: comment.post, comment: comment
diff --git a/app/views/dashboard/show.html.haml b/app/views/dashboard/show.html.haml
deleted file mode 100644
index d2f1989..0000000
--- a/app/views/dashboard/show.html.haml
+++ /dev/null
@@ -1,318 +0,0 @@
-.container-fluid
-  .general.row
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          User
-        .panel-body.text-center
-          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @users.count
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          Post
-        .panel-body.text-center
-          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @posts.count
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          Likes
-        .panel-body.text-center
-          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @likes.count
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          Comments
-        .panel-body.text-center
-          %h1{style: 'font-size: 70px; margin: 10px 0px; padding: 0px;'}= @comments.count
-    .clearfix
-  .fancy
-    .panel.panel-primary
-      .panel-heading
-        Post graph
-      .panel-body
-        .post_graph
-          %canvas{id: "postGraph", height: "400"}
-  .more_fancy.row
-    .col-md-6
-      .panel.panel-primary
-        .panel-heading
-          Post distributing map
-        .panel-body
-          #map{style: 'width: 100%; height: 600px; background-color: #CCC;'}
-          %script{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDSAyIA48rQ8VJtuJ140hblQaU3XCrT6bI&callback=initMap", async: true, defer: true}
-          :javascript
-            function initMap() {
-              var mapDiv = document.getElementById('map');
-              var map = new google.maps.Map(mapDiv, {
-                center: {lat: #{@posts_with_location.first.lat}, lng: #{@posts_with_location.first.long}},
-                zoom: 10
-              });
-              var locations = JSON.parse('#{j(@posts_with_location.map {|p| [p.lat, p.long, p.user_name, p.description, post_path(p)]}.to_json)}');
-              for (var i = 0; i < locations.length; i++) {
-                var marker = new google.maps.Marker({
-                  position: {lat: locations[i][0], lng: locations[i][1]},
-                  map: map,
-                  index: i
-                });
-                locations[i][5] = marker;
-                var infowindow = new google.maps.InfoWindow({
-                  content: '<a target="_blank" href="' + locations[i][4] + '">Open post</a></p></p>'
-                });
-                locations[i][6] = infowindow;
-                marker.addListener('click', function(event) {
-                  locations[this.index][6].open(map, locations[this.index][5]);
-                  event.preventDefault();
-                });
-              }
-            }
-    .col-md-6
-      .row
-        .col-md-6
-          .panel.panel-primary
-            .panel-heading
-              Top tag this week
-            .panel-body
-              - @tags.each do |tag|
-                .tag
-                  .pull-left= tag.name
-                  .pull-right.label.label-danger= PostTag.where(tag_id: tag.id).count
-                  .clearfix
-        .col-md-6
-          .panel.panel-primary
-            .panel-heading
-              Top interaction this week
-            .panel-body
-              - @posts_top_interaction.first(10).each do |post|
-                .post
-                  .pull-left= link_to "##{post.id}", post_path(post)
-                  .pull-right
-                    .label.label-danger
-                      = post.comments.count
-                      comments
-                    .label.label-success
-                      = post.post_likes.count
-                      likes
-                  .clearfix
-        .clearfix
-    .col-md-6
-      .panel.panel-primary
-        .panel-heading
-          Post interact segments
-        .panel-body
-          .row
-            .col-md-6
-              .post_like_graph
-                %canvas{id: "postLikeGraph", height: "250"}
-              .top-10.text-center
-                Likes segment
-            .col-md-6
-              .post_comment_graph
-                %canvas{id: "postCommentGraph", height: "250"}
-              .top-10.text-center
-                Comments segment
-            .clearfix
-  .another_fancy
-    .panel.panel-primary
-      .panel-heading
-        User graph
-      .panel-body
-        .user_graph
-          %canvas{id: "userChart", height: "400"}
-  .much_more_fancy.row
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          Top users this week
-        .panel-body
-          - @users_top_interaction.first(10).each do |user|
-            .user_row{user_id: user.id}
-              .left
-                - if user.avatar.present?
-                  .avatar= image_tag user.avatar.url(:thumb)
-                .name= link_to user.name, user_path(user)
-              .right
-                .label.label-info
-                  = user.posts.count
-                  p
-                .label.label-danger
-                  = user.comments.count
-                  c
-                .label.label-success
-                  = user.post_likes.count
-                  l
-    .col-md-3
-      .panel.panel-primary
-        .panel-heading
-          Newest users
-        .panel-body
-          - User.order(created_at: :desc).limit(10).each do |user|
-            .user_row{user_id: user.id}
-              .left
-                - if user.avatar.present?
-                  .avatar= image_tag user.avatar.url(:thumb)
-                .name= link_to user.name, user_path(user)
-    .col-md-6
-      .panel.panel-primary
-        .panel-heading
-          User distribution
-        .panel-body
-          .row
-            .col-md-6
-              .user_age_graph
-                %canvas{id: "userAgeGraph", height: "250"}
-              .top-10.text-center
-                Age segment
-            .col-md-6
-              .user_active_graph
-                %canvas{id: "userActiveGraph", height: "250"}
-              .top-10.text-center
-                Active segment
-    .clearfix
-:javascript
-  $(function() {
-    var userCanvas, userChart, lineUserChart;
-    var user_type = "days";
-    var user_method = "all"
-    var userOptions = {
-      tooltipTemplate: function(valuesObject){
-        return valuesObject.label + ": " + valuesObject.value + " posts";
-      }
-    }
-    var width = $(".user_graph").width();
-    userCanvas = document.getElementById("userChart");
-    userCanvas.width = width;
-    var ctx = userCanvas.getContext("2d");
-    userChart = new Chart(ctx);
-    lineUserChart = userChart.Line(JSON.parse('#{j(@user_data.to_json)}'), userOptions);
-
-    var postsCanvas, postGraph, lineUserChart;
-    var posts_type = "days";
-    var posts_method = "all"
-    var postsOptions = {
-      tooltipTemplate: function(valuesObject){
-        return valuesObject.label + ": " + valuesObject.value + " posts";
-      }
-    }
-    var width = $(".post_graph").width();
-    postsCanvas = document.getElementById("postGraph");
-    postsCanvas.width = width;
-    var ctx = postsCanvas.getContext("2d");
-    postGraph = new Chart(ctx);
-    lineUserChart = postGraph.Line(JSON.parse('#{j(@post_data.to_json)}'), userOptions);
-
-    var postLikeGraphData = [
-      {
-          value: #{@posts.select { |p| p.post_likes.count < 5}.length},
-          color:"#F7464A",
-          highlight: "#FF5A5E",
-          label: "Likes below 5"
-      },
-      {
-          value: #{@posts.select { |p| (5..10).include?(p.post_likes.count)}.length},
-          color: "#46BFBD",
-          highlight: "#5AD3D1",
-          label: "Likes from 5 to 10"
-      },
-      {
-          value: #{@posts.select { |p| (11..20).include?(p.post_likes.count)}.length},
-          color: "#FDB45C",
-          highlight: "#FFC870",
-          label: "Likes from 10 to 20"
-      },
-      {
-          value: #{@posts.select { |p| p.post_likes.count > 20}.length},
-          color: "#5ca6fc",
-          highlight: "#7cb8ff",
-          label: "Likes above 20"
-      }
-    ]
-    var width = $(".post_like_graph").width();
-    var postLikeCanvas = document.getElementById("postLikeGraph");
-    var ctx = postLikeCanvas.getContext("2d");
-    postLikeCanvas.width = width;
-    var postLikeGraph = new Chart(ctx).Doughnut(postLikeGraphData);
-
-    var postCommentGraphData = [
-      {
-          value: #{@posts.select { |p| p.comments.count < 5}.length},
-          color:"#F7464A",
-          highlight: "#FF5A5E",
-          label: "Comments below 5"
-      },
-      {
-          value: #{@posts.select { |p| (5..10).include?(p.comments.count)}.length},
-          color: "#46BFBD",
-          highlight: "#5AD3D1",
-          label: "Comments from 5 to 10"
-      },
-      {
-          value: #{@posts.select { |p| (11..20).include?(p.comments.count)}.length},
-          color: "#FDB45C",
-          highlight: "#FFC870",
-          label: "Comments from 10 to 20"
-      },
-      {
-          value: #{@posts.select { |p| p.comments.count > 20}.length},
-          color: "#5ca6fc",
-          highlight: "#7cb8ff",
-          label: "Comments above 20"
-      }
-    ]
-    var width = $(".post_comment_graph").width();
-    var postCommentCanvas = document.getElementById("postCommentGraph");
-    var ctx = postCommentCanvas.getContext("2d");
-    postCommentCanvas.width = width;
-    var postCommentGraph = new Chart(ctx).Doughnut(postCommentGraphData);
-
-    var userAgeGraph = [
-      {
-          value: #{@users.select { |u| u.age.present? && u.age < 17}.length},
-          color:"#F7464A",
-          highlight: "#FF5A5E",
-          label: "Age below 17"
-      },
-      {
-          value: #{@users.select { |u| u.age.present? && (17..25).include?( u.age )}.length},
-          color: "#46BFBD",
-          highlight: "#5AD3D1",
-          label: "Age from 17 - 25"
-      },
-      {
-          value: #{@users.select { |u| u.age.present? && (25..30).include?(u.age)}.length},
-          color: "#FDB45C",
-          highlight: "#FFC870",
-          label: "Age from 25 - 30"
-      },
-      {
-          value: #{@users.select { |u| u.age.present? && u.age > 30}.length},
-          color: "#5ca6fc",
-          highlight: "#7cb8ff",
-          label: "Aget above 30"
-      }
-    ]
-    var width = $(".user_age_graph").width();
-    var userAgeCanvse = document.getElementById("userAgeGraph");
-    var ctx = userAgeCanvse.getContext("2d");
-    userAgeCanvse.width = width;
-    var userAgeGraph = new Chart(ctx).Doughnut(userAgeGraph);
-
-    var userActiveGraph = [
-      {
-          value: #{@users.select { |u| u.posts.present? || u.comments.present? }.length},
-          color:"#F7464A",
-          highlight: "#FF5A5E",
-          label: "Inactive user"
-      },
-      {
-          value: #{@users.select { |u| u.posts.blank? || u.comments.blank?}.length},
-          color: "#46BFBD",
-          highlight: "#5AD3D1",
-          label: "Active user"
-      }
-    ]
-    var width = $(".user_active_graph").width();
-    var userActiveCanvse = document.getElementById("userActiveGraph");
-    var ctx = userActiveCanvse.getContext("2d");
-    userActiveCanvse.width = width;
-    var userActiveGraph = new Chart(ctx).Doughnut(userActiveGraph);
-  });
diff --git a/app/views/layouts/admin.html.haml b/app/views/layouts/admin.html.haml
new file mode 100644
index 0000000..88b9e65
--- /dev/null
+++ b/app/views/layouts/admin.html.haml
@@ -0,0 +1,40 @@
+!!!
+%html
+  %head
+    %title SolomoBackend
+    = stylesheet_link_tag    'application', media: 'all'
+    = javascript_include_tag 'application'
+    = csrf_meta_tags
+  %body
+    %nav.navbar.navbar-inverse(role="navigation")
+      .container-fluid
+        .navbar-header
+          %button.navbar-toggle{"data-target" => "#bs-example-navbar-collapse-5", "data-toggle" => "collapse", :type => "button"}
+            %span.sr-only Toggle navigation
+            %span.icon-bar
+            %span.icon-bar
+            %span.icon-bar
+          %a.navbar-brand{:href => root_path} Solomo
+        .collapse.navbar-collapse
+          %ul.nav.navbar-nav
+            %li.dropdown{class: ('active' if params[:controller] == "posts")}
+              %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
+                Posts
+                %b.caret
+              %ul.dropdown-menu{:role => "menu"}
+                %li
+                  %a{:href => admin_posts_path} All posts
+                %li
+                  %a{:href => new_admin_post_path} Create new post
+            %li.dropdown
+              %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
+                Users
+                %b.caret
+              %ul.dropdown-menu{:role => "menu"}
+                %li
+                  %a{:href => admin_users_path} All users
+          %form.navbar-form.navbar-right{:role => "search"}
+            .form-search.search-only
+              %i.search-icon.glyphicon.glyphicon-search
+              %input.form-control.search-query{:type => "text"}/
+    = yield
diff --git a/app/views/layouts/application.html.haml b/app/views/layouts/application.html.haml
index 32f8db5..4157372 100644
--- a/app/views/layouts/application.html.haml
+++ b/app/views/layouts/application.html.haml
@@ -1,40 +1,42 @@
 !!!
 %html
   %head
-    %title SolomoBackend
+    %title Solomo
     = stylesheet_link_tag    'application', media: 'all'
     = javascript_include_tag 'application'
     = csrf_meta_tags
   %body
-    %nav.navbar.navbar-inverse(role="navigation")
-      .container-fluid
-        .navbar-header
-          %button.navbar-toggle{"data-target" => "#bs-example-navbar-collapse-5", "data-toggle" => "collapse", :type => "button"}
-            %span.sr-only Toggle navigation
-            %span.icon-bar
-            %span.icon-bar
-            %span.icon-bar
-          %a.navbar-brand{:href => root_path} Solomo
-        .collapse.navbar-collapse
-          %ul.nav.navbar-nav
-            %li.dropdown{class: ('active' if params[:controller] == "posts")}
-              %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
-                Posts
-                %b.caret
-              %ul.dropdown-menu{:role => "menu"}
-                %li
-                  %a{:href => posts_path} All posts
-                %li
-                  %a{:href => new_post_path} Create new post
-            %li.dropdown
-              %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
-                Users
-                %b.caret
-              %ul.dropdown-menu{:role => "menu"}
-                %li
-                  %a{:href => users_path} All users
-          %form.navbar-form.navbar-right{:role => "search"}
-            .form-search.search-only
-              %i.search-icon.glyphicon.glyphicon-search
-              %input.form-control.search-query{:type => "text"}/
+    #home_header
+      %nav#heading.navbar(role="navigation")
+        .container-fluid
+          .navbar-header
+            %button.navbar-toggle{"data-target" => "#bs-example-navbar-collapse-5", "data-toggle" => "collapse", :type => "button"}
+              %span.sr-only Toggle navigation
+              %span.icon-bar
+              %span.icon-bar
+              %span.icon-bar
+            %a.navbar-brand{:href => root_path} Solomo
+          .collapse.navbar-collapse
+            %ul.nav.navbar-nav
+              %li.dropdown{class: ('active' if params[:controller] == "posts")}
+                %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
+                  Introduction
+              %li.dropdown
+                %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
+                  Downloads
+            .navbar-collapse.navbar-right{:role => "search"}
+              %ul.nav.navbar-nav
+                %li.dropdown
+                  - if user_signed_in?
+                    %a.dropdown-toggle{'data-toggle' => 'dropdown', href: '#'}
+                      Hello, #{current_user.name}
+                    %ul.dropdown-menu{role: 'menu'}
+                      - if current_user.is_admin?
+                        %li
+                          = link_to 'Admin dashboards', admin_dashboards_path
+                      - if current_user.is_store?
+                        %li
+                          = link_to 'Store dashboards', store_dashboard_path
+                  - else
+                    = link_to 'Login / Register', new_user_session_path
     = yield
diff --git a/app/views/post_likes/_new.html.haml b/app/views/post_likes/_new.html.haml
deleted file mode 100644
index 1628a78..0000000
--- a/app/views/post_likes/_new.html.haml
+++ /dev/null
@@ -1,5 +0,0 @@
-- return unless users.present?
-= form_for PostLike.new, url: post_post_likes_path(post), method: :post, class: 'top-10' do |f|
-  = f.select :user_id, users.map {|u| ["#{u.name} (#{u.email})", u.id]}, {}, class: 'form-control'
-  .text-center.top-6
-    = f.submit 'Like as this user', class: 'btn btn-primary'
diff --git a/app/views/post_likes/_show.html.haml b/app/views/post_likes/_show.html.haml
deleted file mode 100644
index ec3f675..0000000
--- a/app/views/post_likes/_show.html.haml
+++ /dev/null
@@ -1,5 +0,0 @@
-%tr{post_like_id: post_like.user.id}
-  %td= image_tag post_like.user.avatar.url(:thumb) if post_like.user.avatar.present?
-  %td= link_to "#{post_like.user.name} (#{post_like.user.email})", user_path(post_like.user)
-  %td #{time_ago_in_words(post_like.created_at)} ago
-  %td= link_to 'Delete', post_post_like_path(post_like.post, post_like), method: :delete, class: 'label label-danger'
diff --git a/app/views/posts/_form.html.haml b/app/views/posts/_form.html.haml
deleted file mode 100644
index 3218c25..0000000
--- a/app/views/posts/_form.html.haml
+++ /dev/null
@@ -1,11 +0,0 @@
-.form-group
-  = f.label :user_id
-  = f.select :user_id, User.all.map {|u| [u.name, u.id]}, {}, class: 'form-control'
-.form-group
-  = f.label :picture
-  = f.file_field :picture, class: 'form-control'
-.form-group
-  = f.label :description
-  = f.text_area :description, class: 'form-control'
-.form-group.text-center
-  = f.submit class: 'btn btn-primary'
diff --git a/app/views/posts/edit.html.haml b/app/views/posts/edit.html.haml
deleted file mode 100644
index e69de29..0000000
diff --git a/app/views/posts/index.html.haml b/app/views/posts/index.html.haml
deleted file mode 100644
index c19fe14..0000000
--- a/app/views/posts/index.html.haml
+++ /dev/null
@@ -1,49 +0,0 @@
-.container-fluid
-  .panel.panel-default
-    .panel-heading
-      List of posts
-    .panel-body
-      - if @posts.present?
-        %table.table
-          %thead
-            %tr
-              %th
-              %th Post
-              %th User
-              %th Interaction
-              %th Other information
-              %th Timestamp
-          %tbody
-            - @posts.each do |post|
-              %tr{post_id: post.id}
-                %td{style: 'width: 50px'}
-                  = link_to post_path(post) do
-                    \##{post.id}
-                %td{style: 'width: 300px; height: auto;'}
-                  = image_tag post.picture.url(:fb_image_thumb), class: 'img-responsive' if post.picture.present?
-                  %p= post.description
-                %td{style: 'width: 300px'}
-                  = post.user_name
-                  - if post.user.present?
-                    (#{link_to post.user.email, user_path(post.user)})
-                %th
-                  %li #{post.post_likes.count} likes
-                  %li #{post.comments.count} comments
-                %td
-                  - if post.lat.present?
-                    %li Latitude: #{post.lat}
-                  - if post.long.present?
-                    %li Longitude: #{post.long}
-                %th
-                  %li Created #{time_ago_in_words(post.created_at)} ago
-                  - if post.post_likes.present?
-                    %li Last like #{time_ago_in_words(post.post_likes.last.created_at)} ago
-                  - if post.comments.present?
-                    %li Last comment #{time_ago_in_words(post.comments.last.created_at)} ago
-        .dataTables_footer.clearfix
-          .col-md-6
-            .dataTables_info Total #{@posts.total_count} results.
-          .col-md-6
-            .dataTables_paginate.paging_bootstrap= paginate @posts
-      - else
-        .text-center No posts found
diff --git a/app/views/posts/new.html.haml b/app/views/posts/new.html.haml
deleted file mode 100644
index bd51cd5..0000000
--- a/app/views/posts/new.html.haml
+++ /dev/null
@@ -1,8 +0,0 @@
-.container-fluid
-  .panel.panel-default.col-md-6.col-md-offset-3
-    .panel-heading
-      New post
-    .panel-body
-      = form_for @post, url: posts_path do |f|
-        = render 'posts/form', f: f
-  .clearfix
diff --git a/app/views/posts/show.html.haml b/app/views/posts/show.html.haml
deleted file mode 100644
index 6a89ac8..0000000
--- a/app/views/posts/show.html.haml
+++ /dev/null
@@ -1,99 +0,0 @@
-.container-fluid
-  .panel.panel-default
-    .panel-heading
-      Basic information
-    .panel-body
-      .col-md-6
-        = image_tag @post.picture.url(:fb_image), class: 'img-responsive'
-      .col-md-6
-        .form-group
-          %label Post id
-          .content= @post.id
-        .form-group
-          %label User
-          .content
-            = @post.user_name
-            - if @post.user.present?
-              (#{link_to @post.user.email, user_path(@post.user)})
-        .form-group
-          %label Description
-          .content
-            = simple_format(@post.description)
-        - if @post.promotion_type.present?
-          .form-group
-            %label Promotion
-            .content
-              #{@post.promotion_type} #{@post.promotion_value}
-        - if @post.lat.present? && @post.long.present?
-          .form-group
-            %label Lat, long
-            .content #{@post.lat}, #{@post.long}
-        .form-group
-          %label Created at
-          .content
-            = time_ago_in_words(@post.created_at)
-            ago
-        .form-group
-          = link_to 'Destroy', post_path(@post), method: :delete, class: 'btn btn-danger'
-      .clearfix
-  .row
-    - colclass = 'col-md-12'
-    - if @post.lat.present? && @post.long.present?
-      - colclass = 'col-md-6'
-      .col-md-6
-        .panel.panel-default
-          .panel-heading
-            Map
-          .panel-body
-            #map{style: 'width: 100%; height: 400px; background-color: #CCC;'}
-            %script{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDSAyIA48rQ8VJtuJ140hblQaU3XCrT6bI&callback=initMap", async: true, defer: true}
-            :javascript
-              function initMap() {
-                var mapDiv = document.getElementById('map');
-                var map = new google.maps.Map(mapDiv, {
-                  center: {lat: #{@post.lat}, lng: #{@post.long}},
-                  zoom: 12
-                });
-                 var marker = new google.maps.Marker({
-                  position: {lat: #{@post.lat}, lng: #{@post.long}},
-                  map: map
-                });
-              }
-    %div{class: colclass}
-      .panel.panel-default
-        .panel-heading
-          .pull-left
-            Likes
-          .pull-right
-            - if @post.post_likes.present?
-              = @post.post_likes.count
-              likes
-          .clearfix
-        .panel-body
-          - if @post.post_likes.blank?
-            .text-center
-              No likes yet
-          - else
-            %table.table
-              - @post.post_likes.order(created_at: :desc).each do |post_like|
-                = render 'post_likes/show', post_like: post_like
-          .new_like= render 'post_likes/new', users: @like_as, post: @post
-      .panel.panel-default
-        .panel-heading
-          .pull-left
-            Comments
-          .pull-right
-            - if @post.comments.present?
-              = @post.comments.count
-              comments
-          .clearfix
-        .panel-body
-          - if @post.comments.blank?
-            .text-center
-              No comments yet
-          - else
-            %table
-              - @post.comments.root.in_order.each do |comment|
-                = render 'comments/show', comment: comment
-          .new_comment= render 'comments/new', post: @post
-    .clearfix
diff --git a/app/views/static/landing_page.html.haml b/app/views/static/landing_page.html.haml
new file mode 100644
index 0000000..8b13789
--- /dev/null
+++ b/app/views/static/landing_page.html.haml
@@ -0,0 +1 @@
+
diff --git a/app/views/user/sessions/new.html.haml b/app/views/user/sessions/new.html.haml
new file mode 100644
index 0000000..5f6868a
--- /dev/null
+++ b/app/views/user/sessions/new.html.haml
@@ -0,0 +1,32 @@
+.container
+  .row
+    .col-xs-12.col-sm-6.col-sm-offset-3.col-md-6.col-md-offset-3.col-lg-4.col-lg-offset-4
+      = form_for(resource, :as => resource_name, :url => session_path(resource_name), :html => { :role => 'form'}) do |f|
+        .panel.panel-default
+          .panel-heading Login
+          .panel-body
+            -# Important: Must put Devise's default return path session[:user_return_to] here
+            -# to prevent overide return path in some cases.
+            -# For example: page A -> page B (authenticate_user! fail) -> user/sign_in
+            = link_to user_omniauth_authorize_path(:facebook, origin: session[:user_return_to] || request.referrer), class: "btn btn-block btn-primary" do
+              Login with facebook
+            %p
+              = devise_error_messages!
+              = hidden_field_tag :return_to, params[:return_to] || session[:user_return_to] || request.referrer
+              .form-group
+                = f.label :email
+                = f.email_field :email, :autofocus => true, class: 'form-control'
+              .form-group
+                = f.label :password, "Password"
+                = f.password_field :password, class: 'form-control'
+              .checkbox.text-center{:style => "width:150px"}
+                %label
+                  = f.check_box :remember_me
+                  Remember me
+              .clearfix
+            %p
+              = f.submit 'Login', class: 'btn btn-block signin-btn btn-primary'
+              .register.text-center
+                Have not registered yet?
+                = link_to "ng k ngay", new_user_registration_path(return_to: params[:return_to])
+
diff --git a/app/views/users/_form.html.haml b/app/views/users/_form.html.haml
deleted file mode 100644
index 3218c25..0000000
--- a/app/views/users/_form.html.haml
+++ /dev/null
@@ -1,11 +0,0 @@
-.form-group
-  = f.label :user_id
-  = f.select :user_id, User.all.map {|u| [u.name, u.id]}, {}, class: 'form-control'
-.form-group
-  = f.label :picture
-  = f.file_field :picture, class: 'form-control'
-.form-group
-  = f.label :description
-  = f.text_area :description, class: 'form-control'
-.form-group.text-center
-  = f.submit class: 'btn btn-primary'
diff --git a/app/views/users/edit.html.haml b/app/views/users/edit.html.haml
deleted file mode 100644
index e69de29..0000000
diff --git a/app/views/users/index.html.haml b/app/views/users/index.html.haml
deleted file mode 100644
index 45761f1..0000000
--- a/app/views/users/index.html.haml
+++ /dev/null
@@ -1,30 +0,0 @@
-.container-fluid
-  .panel.panel-default
-    .panel-heading
-      List of users
-    .panel-body
-      - if @users.present?
-        %table.table
-          %thead
-            %tr
-              %th
-              %th Id
-              %th Email
-              %th First name
-              %th Last name
-              %th Phone
-              %th Facebook
-              %th Access Token
-          %tbody
-            - @users.each do |user|
-              %tr{user_id: user.id}
-                %td{style: 'width: 100px'}= image_tag user.avatar.url(:thumb) if user.avatar.present?
-                %td{style: 'width: 50px'} ##{user.id}
-                %td= user.email
-                %td= user.first_name
-                %td= user.last_name
-                %td= user.phone
-                %td= link_to(user.uid, "https://facebook.com/#{user.uid}") if user.uid.present?
-                %td= user.authentication_token
-      - else
-        .text-center No users found
diff --git a/config/initializers/devise.rb b/config/initializers/devise.rb
index 4170d36..036dc7f 100644
--- a/config/initializers/devise.rb
+++ b/config/initializers/devise.rb
@@ -257,9 +257,11 @@ Devise.setup do |config|
   # so you need to do it manually. For the users scope, it would be:
   # config.omniauth_path_prefix = '/my_engine/users/auth'
   config.omniauth :facebook, Rails.application.secrets.fb_app_id, Rails.application.secrets.fb_app_secret
-
+  if Rails.env.development? 
+    OpenSSL::SSL::VERIFY_PEER = OpenSSL::SSL::VERIFY_NONE 
+  end
   config.warden do |manager|
-    manager.default_strategies(scope: :user).unshift :guest_user
+    manager.default_strategies(scope: :user).unshift :rememberable
   end
 end
 
diff --git a/config/routes.rb b/config/routes.rb
index d616f9e..27649ef 100644
--- a/config/routes.rb
+++ b/config/routes.rb
@@ -2,15 +2,37 @@ Rails.application.routes.draw do
   mount API::Base, at: "/"
   get "/api/docs" => 'docs#index'
 
-  root 'dashboard#show'
+  root 'static#landing_page'
 
-  resources :posts do
-    resources :comments do
-    end
-    resources :post_likes do
-    end
+  devise_for :users, controllers: {
+  	omniauth_callbacks: "user/omniauth_callbacks",
+  	registrations: "user/registrations",
+    sessions: "user/sessions"
+  }
+
+  devise_scope :user do
+    delete "users/guest_sign_out", to: "user/sessions#destroy_guest", as: :destroy_guest_user_session
+  end
+
+  resource :static do
+    get :landing_page
   end
 
-  resources :users, only: [:index, :show, :edit] do
+  namespace :store do
+    resource :dashboard
+  end
+
+  namespace :admin do
+    root to: 'dashboards#show'
+    resource :dashboards
+    resources :posts do
+      resources :comments do
+      end
+      resources :post_likes do
+      end
+    end
+
+    resources :users, only: [:index, :show, :edit] do
+    end
   end
 end
diff --git a/db/migrate/20160407111311_create_stores.rb b/db/migrate/20160407111311_create_stores.rb
new file mode 100644
index 0000000..de63167
--- /dev/null
+++ b/db/migrate/20160407111311_create_stores.rb
@@ -0,0 +1,16 @@
+class CreateStores < ActiveRecord::Migration
+  def change
+    create_table :stores do |t|
+      t.references :user, index: true, foreign_key: true
+      t.text :website
+      t.text :description
+      t.text :address
+      t.float :location_lat
+      t.float :location_long
+      t.string :phone
+      t.string :status
+      t.integer :balance
+      t.integer :total_balance
+    end
+  end
+end
diff --git a/db/migrate/20160407153755_add_is_admin_to_users.rb b/db/migrate/20160407153755_add_is_admin_to_users.rb
new file mode 100644
index 0000000..def2bbb
--- /dev/null
+++ b/db/migrate/20160407153755_add_is_admin_to_users.rb
@@ -0,0 +1,5 @@
+class AddIsAdminToUsers < ActiveRecord::Migration
+  def change
+    add_column :users, :is_admin, :boolean
+  end
+end
diff --git a/db/schema.rb b/db/schema.rb
index 4b24be6..885979f 100644
--- a/db/schema.rb
+++ b/db/schema.rb
@@ -11,7 +11,7 @@
 #
 # It's strongly recommended that you check this file into your version control system.
 
-ActiveRecord::Schema.define(version: 20160403150057) do
+ActiveRecord::Schema.define(version: 20160407153755) do
 
   # These are extensions that must be enabled in order to support this database
   enable_extension "plpgsql"
@@ -100,6 +100,21 @@ ActiveRecord::Schema.define(version: 20160403150057) do
 
   add_index "posts", ["user_id"], name: "index_posts_on_user_id", using: :btree
 
+  create_table "stores", force: :cascade do |t|
+    t.integer "user_id"
+    t.text    "website"
+    t.text    "description"
+    t.text    "address"
+    t.float   "location_lat"
+    t.float   "location_long"
+    t.string  "phone"
+    t.string  "status"
+    t.integer "balance"
+    t.integer "total_balance"
+  end
+
+  add_index "stores", ["user_id"], name: "index_stores_on_user_id", using: :btree
+
   create_table "tags", force: :cascade do |t|
     t.string   "name"
     t.datetime "created_at"
@@ -143,6 +158,7 @@ ActiveRecord::Schema.define(version: 20160403150057) do
     t.integer  "avatar_file_size"
     t.datetime "avatar_updated_at"
     t.string   "authentication_token",   limit: 191
+    t.boolean  "is_admin"
   end
 
   add_foreign_key "post_likes", "posts"
@@ -150,5 +166,6 @@ ActiveRecord::Schema.define(version: 20160403150057) do
   add_foreign_key "post_tags", "posts"
   add_foreign_key "post_tags", "tags"
   add_foreign_key "posts", "users"
+  add_foreign_key "stores", "users"
   add_foreign_key "user_followings", "users"
 end
diff --git a/tags b/tags
index 0ae201d..2de5bcb 100644
--- a/tags
+++ b/tags
@@ -29,9 +29,13 @@ Account	app/controllers/api/v1/account.rb	/^    class Account < Grape::API$/;"	c
 ActiveSupport	test/test_helper.rb	/^class ActiveSupport::TestCase$/;"	c
 AddAddressToPosts	db/migrate/20160317012707_add_address_to_posts.rb	/^class AddAddressToPosts < ActiveRecord::Migration$/;"	c
 AddAuthenticationTokenToUser	db/migrate/20160115002410_add_authentication_token_to_user.rb	/^class AddAuthenticationTokenToUser < ActiveRecord::Migration$/;"	c
+AddIsAdminToUsers	db/migrate/20160407153755_add_is_admin_to_users.rb	/^class AddIsAdminToUsers < ActiveRecord::Migration$/;"	c
 AddPostTypeToPost	db/migrate/20160309171841_add_post_type_to_post.rb	/^class AddPostTypeToPost < ActiveRecord::Migration$/;"	c
 AddPromotionsToPosts	db/migrate/20160403150057_add_promotions_to_posts.rb	/^class AddPromotionsToPosts < ActiveRecord::Migration$/;"	c
 AddTimestampToPosts	db/migrate/20160309164747_add_timestamp_to_posts.rb	/^class AddTimestampToPosts < ActiveRecord::Migration$/;"	c
+Admin	app/controllers/admin/posts_controller.rb	/^class Admin::PostsController < ApplicationController$/;"	c
+Admin	app/controllers/admin/users_controller.rb	/^class Admin::UsersController < ApplicationController$/;"	c
+AdminController	app/controllers/admin_controller.rb	/^class AdminController < ApplicationController$/;"	c
 ApiErrorHandler	app/controllers/api/v1/config/api_error_handler.rb	/^      class ApiErrorHandler < Grape::Middleware::Base$/;"	c	class:API.V1.Config
 ApiLogger	app/controllers/api/v1/config/api_logger.rb	/^      class ApiLogger$/;"	c	class:API.V1.Config
 Application	config/application.rb	/^  class Application < Rails::Application$/;"	c	class:SolomoBackend
@@ -42,7 +46,7 @@ Base	app/controllers/api/v1/base.rb	/^    class Base < Grape::API$/;"	c	class:AP
 ChangeTypeOfBirthday	db/migrate/20160324151219_change_type_of_birthday.rb	/^class ChangeTypeOfBirthday < ActiveRecord::Migration$/;"	c
 Comment	app/models/comment.rb	/^class Comment < ActiveRecord::Base$/;"	c
 Comments	app/controllers/api/v1/comments.rb	/^    class Comments < Grape::API$/;"	c	class:API.V1
-CommentsController	app/controllers/comments_controller.rb	/^class CommentsController < ApplicationController$/;"	c
+CommentsController	app/controllers/admin/comments_controller.rb	/^class CommentsController < ApplicationController$/;"	c
 Config	app/controllers/api/v1/config/api_error_handler.rb	/^    module Config$/;"	m	class:API.V1
 Config	app/controllers/api/v1/config/api_logger.rb	/^    module Config$/;"	m	class:API.V1
 Config	app/controllers/api/v1/config/error_formatter.rb	/^    module Config$/;"	m	class:API.V1
@@ -54,9 +58,10 @@ CreatePicture	db/migrate/20160309161317_create_picture.rb	/^class CreatePicture
 CreatePostLikes	db/migrate/20160115021810_create_post_likes.rb	/^class CreatePostLikes < ActiveRecord::Migration$/;"	c
 CreatePostTag	db/migrate/20160115013031_create_post_tag.rb	/^class CreatePostTag < ActiveRecord::Migration$/;"	c
 CreatePosts	db/migrate/20160115012718_create_posts.rb	/^class CreatePosts < ActiveRecord::Migration$/;"	c
+CreateStores	db/migrate/20160407111311_create_stores.rb	/^class CreateStores < ActiveRecord::Migration$/;"	c
 CreateTags	db/migrate/20160115012944_create_tags.rb	/^class CreateTags < ActiveRecord::Migration$/;"	c
 CreateUser	db/migrate/20160114233742_create_user.rb	/^class CreateUser < ActiveRecord::Migration$/;"	c
-DashboardController	app/controllers/dashboard_controller.rb	/^class DashboardController < ApplicationController$/;"	c
+DashboardController	app/controllers/admin/dashboard_controller.rb	/^class DashboardController < ApplicationController$/;"	c
 Defaults	app/controllers/api/v1/defaults.rb	/^    module Defaults$/;"	m	class:API.V1
 DocsController	app/controllers/docs_controller.rb	/^class DocsController < ActionController::Base$/;"	c
 ErrorFormatter	app/controllers/api/v1/config/error_formatter.rb	/^      class ErrorFormatter$/;"	c	class:API.V1.Config
@@ -74,19 +79,21 @@ Pictures	app/controllers/api/v1/pictures.rb	/^    class Pictures < Grape::API$/;
 Post	app/models/post.rb	/^class Post < ActiveRecord::Base$/;"	c
 PostLike	app/models/post_like.rb	/^class PostLike < ActiveRecord::Base$/;"	c
 PostLikes	app/controllers/api/v1/post_likes.rb	/^    class PostLikes < Grape::API$/;"	c	class:API.V1
-PostLikesController	app/controllers/post_likes_controller.rb	/^class PostLikesController < ApplicationController$/;"	c
+PostLikesController	app/controllers/admin/post_likes_controller.rb	/^class PostLikesController < ApplicationController$/;"	c
 PostTag	app/models/post_tag.rb	/^class PostTag < ActiveRecord::Base$/;"	c
 Posts	app/controllers/api/v1/posts.rb	/^    class Posts < Grape::API$/;"	c	class:API.V1
-PostsController	app/controllers/posts_controller.rb	/^class PostsController < ApplicationController$/;"	c
 Registrations	app/controllers/api/v1/registrations.rb	/^    class Registrations < Grape::API$/;"	c	class:API.V1
 Search	app/controllers/api/v1/search.rb	/^    class Search < Grape::API$/;"	c	class:API.V1
 Sessions	app/controllers/api/v1/sessions.rb	/^    class Sessions < Grape::API$/;"	c	class:API.V1
 SolomoBackend	config/application.rb	/^module SolomoBackend$/;"	m
+StaticController	app/controllers/static_controller.rb	/^class StaticController < ApplicationController$/;"	c
 Tag	app/models/tag.rb	/^class Tag < ActiveRecord::Base$/;"	c
 Tags	app/controllers/api/v1/tags.rb	/^    class Tags < Grape::API$/;"	c	class:API.V1
+User	app/controllers/user/omniauth_callbacks_controller.rb	/^class User::OmniauthCallbacksController < Devise::OmniauthCallbacksController$/;"	c
+User	app/controllers/user/registrations_controller.rb	/^class User::RegistrationsController < Devise::RegistrationsController$/;"	c
+User	app/controllers/user/sessions_controller.rb	/^class User::SessionsController < Devise::SessionsController$/;"	c
 User	app/models/user.rb	/^class User < ActiveRecord::Base$/;"	c
 UserFollowing	app/models/user_following.rb	/^class UserFollowing < ActiveRecord::Base$/;"	c
-UsersController	app/controllers/users_controller.rb	/^class UsersController < ApplicationController$/;"	c
 V1	app/controllers/api/v1/account.rb	/^  module V1$/;"	m	class:API
 V1	app/controllers/api/v1/base.rb	/^  module V1$/;"	m	class:API
 V1	app/controllers/api/v1/comments.rb	/^  module V1$/;"	m	class:API
@@ -108,6 +115,9 @@ V1	app/controllers/api/v1/search.rb	/^  module V1$/;"	m	class:API
 V1	app/controllers/api/v1/sessions.rb	/^  module V1$/;"	m	class:API
 V1	app/controllers/api/v1/tags.rb	/^  module V1$/;"	m	class:API
 address_last_updated_at	app/controllers/api/v1/defaults.rb	/^          def address_last_updated_at$/;"	f	class:API.V1.Defaults
+after_sign_in_path_for	app/controllers/user/sessions_controller.rb	/^  def after_sign_in_path_for(resource)$/;"	f	class:User
+after_sign_up_path_for	app/controllers/user/registrations_controller.rb	/^  def after_sign_up_path_for(resource)$/;"	f	class:User
+after_sign_up_render_for	app/controllers/user/registrations_controller.rb	/^  def after_sign_up_render_for(resource)$/;"	f	class:User
 age	app/models/user.rb	/^  def age$/;"	f	class:User
 api?	app/models/user.rb	/^  def api?$/;"	f	class:User
 app	spec/controllers/api/v1/registrations_spec.rb	/^  def app$/;"	f
@@ -117,6 +127,7 @@ assign_fb_attributes	app/models/user.rb	/^  def assign_fb_attributes(auth)$/;"	f
 authenticate_user!	app/controllers/api/v1/defaults.rb	/^          def authenticate_user!$/;"	f	class:API.V1.Defaults
 avatar_image=	app/models/user.rb	/^  def avatar_image=(url)$/;"	f	class:User
 b	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	f
+build_resource	app/controllers/user/registrations_controller.rb	/^  def build_resource(hash=nil)$/;"	f	class:User
 c	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 call	app/controllers/api/v1/config/error_formatter.rb	/^        def self.call(message, backtrace, options = {}, env = nil)$/;"	F	class:API.V1.Config.ErrorFormatter
 call!	app/controllers/api/v1/config/api_error_handler.rb	/^        def call!(env)$/;"	f	class:API.V1.Config.ApiErrorHandler
@@ -135,24 +146,28 @@ change	db/migrate/20160323200953_create_comments.rb	/^  def change$/;"	f	class:C
 change	db/migrate/20160324151219_change_type_of_birthday.rb	/^  def change$/;"	f	class:ChangeTypeOfBirthday
 change	db/migrate/20160403041856_create_notification.rb	/^  def change$/;"	f	class:CreateNotification
 change	db/migrate/20160403150057_add_promotions_to_posts.rb	/^  def change$/;"	f	class:AddPromotionsToPosts
-comment_params	app/controllers/comments_controller.rb	/^  def comment_params$/;"	f	class:CommentsController
+change	db/migrate/20160407111311_create_stores.rb	/^  def change$/;"	f	class:CreateStores
+change	db/migrate/20160407153755_add_is_admin_to_users.rb	/^  def change$/;"	f	class:AddIsAdminToUsers
+comment_params	app/controllers/admin/comments_controller.rb	/^  def comment_params$/;"	f	class:CommentsController
 comment_tree_depth	app/models/comment.rb	/^  def comment_tree_depth$/;"	f	class:Comment
-create	app/controllers/comments_controller.rb	/^  def create$/;"	f	class:CommentsController
-create	app/controllers/post_likes_controller.rb	/^  def create$/;"	f	class:PostLikesController
-create	app/controllers/posts_controller.rb	/^  def create$/;"	f	class:PostsController
+create	app/controllers/admin/comments_controller.rb	/^  def create$/;"	f	class:CommentsController
+create	app/controllers/admin/post_likes_controller.rb	/^  def create$/;"	f	class:PostLikesController
+create	app/controllers/admin/posts_controller.rb	/^  def create$/;"	f	class:Admin
+create	app/controllers/user/registrations_controller.rb	/^  def create$/;"	f	class:User
+create	app/controllers/user/sessions_controller.rb	/^  def create$/;"	f	class:User
 current_cart	app/controllers/api/v1/defaults.rb	/^          def current_cart$/;"	f	class:API.V1.Defaults
 current_user	app/controllers/api/v1/defaults.rb	/^          def current_user$/;"	f	class:API.V1.Defaults
 defaults	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	m
-destroy	app/controllers/comments_controller.rb	/^  def destroy$/;"	f	class:CommentsController
-destroy	app/controllers/post_likes_controller.rb	/^  def destroy$/;"	f	class:PostLikesController
-destroy	app/controllers/posts_controller.rb	/^  def destroy$/;"	f	class:PostsController
+destroy	app/controllers/admin/comments_controller.rb	/^  def destroy$/;"	f	class:CommentsController
+destroy	app/controllers/admin/post_likes_controller.rb	/^  def destroy$/;"	f	class:PostLikesController
+destroy	app/controllers/admin/posts_controller.rb	/^  def destroy$/;"	f	class:Admin
 disable	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	m
 disable_on_production!	app/controllers/application_controller.rb	/^  def disable_on_production!$/;"	f	class:ApplicationController
 down	db/migrate/20160317012615_create_pg_search_documents.rb	/^  def self.down$/;"	F
 e.e.global	app/assets/javascripts/modules/Chart.min.js	/^(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t["offset"+i]?t["offset"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i)},e=this.width=i(t.canvas,"Width"),n=this.height=i(t.canvas,"Height");t.canvas.width=e,t.canvas.height=n;var e=this.width=t.canvas.width,n=this.height=t.canvas.height;return this.aspectRatio=this.width\/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),S=s.radians=function(t){return t*(Math.PI\/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n\/(n+o),h=s*o\/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)\/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i\/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l\/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r\/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f\/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f\/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v\/2%1!==0)break;v\/=2,S=Math.round(f\/v)}else v\/=2,S=Math.round(f\/v);return h&&(S=o,v=f\/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=\/\\W\/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(\/[\\r\\t\\n]\/g," ").split("<%").join("	").replace(\/((^|%>)[^\\t]*)'\/g,"$1\\r").replace(\/\\t=(.*?)%>\/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\\r").join("\\\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),w=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t\/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t\/1-1)*t*t+1)},easeInOutCubic:function(t){return(t\/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t\/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t\/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t\/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t\/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t\/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t\/1*(Math.PI\/2))+1},easeOutSine:function(t){return 1*Math.sin(t\/1*(Math.PI\/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t\/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t\/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t\/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t\/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t\/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t\/1-1)*t)},easeInOutCirc:function(t){return(t\/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t\/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e\/4):i=e\/(2*Math.PI)*Math.asin(1\/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI\/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t\/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e\/4):i=e\/(2*Math.PI)*Math.asin(1\/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI\/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t\/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e\/4):i=e\/(2*Math.PI)*Math.asin(1\/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI\/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI\/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t\/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t\/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t\/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t\/=1)<1\/2.75?7.5625*t*t:2\/2.75>t?1*(7.5625*(t-=1.5\/2.75)*t+.75):2.5\/2.75>t?1*(7.5625*(t-=2.25\/2.75)*t+.9375):1*(7.5625*(t-=2.625\/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),b=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3\/60)}}(),P=s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3\/60)}}(),L=(s.animationLoop=function(t,i,e,s,n,o){var a=0,h=w[e]||w.linear,l=function(){a++;var e=a\/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=b(l):n.apply(o)};b(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),k=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},F=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},L(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){k(t.chart.canvas,e,i)})}),R=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},T=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+" "+t+"px "+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return P(this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=R(this.chart.canvas),s=this.options.maintainAspectRatio?e\/this.chart.aspectRatio:T(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width\/2?n:i,y:(o+e)\/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)\/2,i=(this.outerRadius-this.innerRadius)\/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width\/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth\/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width\/2&&t<=this.x+this.width\/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e\/2>this.chart.width?this.xAlign="left":this.x-e\/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e\/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e\/2,a+s\/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize\/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height\/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width\/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height\/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize\/2:i+(1.5*this.fontSize*e+this.fontSize\/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height\/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize\/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize\/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s\/2+3,this.xScalePaddingLeft=e\/2>this.yLabelWidth+10?e\/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize\/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize\/2),this.xScalePaddingRight=this.fontSize\/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()\/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i\/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e\/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)\/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size\/2-(this.fontSize\/2+this.backdropPaddingY):this.size\/2},calculateCenterOffset:function(t){var i=this.drawingArea\/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size\/2-(this.fontSize\/2+this.backdropPaddingY):this.size\/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI\/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height\/2-this.pointLabelFontSize-5,this.width\/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount\/2?(s=e\/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount\/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount\/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r\/Math.sin(o+Math.PI\/2),u=l\/Math.sin(h+Math.PI\/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)\/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)\/2,this.yCenter=this.height\/2},getIndexAngle:function(t){var i=2*Math.PI\/this.valuesCount;return t*i-Math.PI\/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea\/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h\/2-this.backdropPaddingX,o-this.fontSize\/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length\/2,h=a\/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"><\/span><%if(datasets[i].label){%><%=datasets[i].label%><%}%><\/li><%}%><\/ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n\/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a\/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i\/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))$/;"	p
 e.f	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	f
 e.g	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	f
-edit	app/controllers/posts_controller.rb	/^  def edit$/;"	f	class:PostsController
+edit	app/controllers/admin/posts_controller.rb	/^  def edit$/;"	f	class:Admin
 enable	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	m
 ensure_authentication_token	app/models/user.rb	/^  def ensure_authentication_token$/;"	f	class:User
 error	app/controllers/api/v1/config/api_logger.rb	/^        def error(env, error)$/;"	f	class:API.V1.Config.ApiLogger
@@ -160,13 +175,14 @@ f.fn	app/assets/javascripts/bootflat/icheck.min.js	/^_add="addClass";_remove="re
 f.g	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 f.h	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 f.j	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
+facebook	app/controllers/user/omniauth_callbacks_controller.rb	/^  def facebook$/;"	f	class:User
 file_url=	app/models/picture.rb	/^  def file_url=(url)$/;"	f	class:Picture
-find_comment	app/controllers/comments_controller.rb	/^  def find_comment$/;"	f	class:CommentsController
+find_comment	app/controllers/admin/comments_controller.rb	/^  def find_comment$/;"	f	class:CommentsController
 find_object_for	app/controllers/api/v1/defaults.rb	/^          def find_object_for(klass, options = {})$/;"	f	class:API.V1.Defaults
-find_post	app/controllers/comments_controller.rb	/^  def find_post$/;"	f	class:CommentsController
-find_post	app/controllers/post_likes_controller.rb	/^  def find_post$/;"	f	class:PostLikesController
-find_post	app/controllers/posts_controller.rb	/^  def find_post$/;"	f	class:PostsController
-find_post_like	app/controllers/post_likes_controller.rb	/^  def find_post_like$/;"	f	class:PostLikesController
+find_post	app/controllers/admin/comments_controller.rb	/^  def find_post$/;"	f	class:CommentsController
+find_post	app/controllers/admin/post_likes_controller.rb	/^  def find_post$/;"	f	class:PostLikesController
+find_post	app/controllers/admin/posts_controller.rb	/^  def find_post$/;"	f	class:Admin
+find_post_like	app/controllers/admin/post_likes_controller.rb	/^  def find_post_like$/;"	f	class:PostLikesController
 function.D	app/assets/javascripts/bootflat/icheck.min.js	/^f(_label+'[for="'+a[0].id+'"]').add(a.closest(_label)).off(".i")}}function l(a,b,f){if(a.data(m))return a.data(m).o[b+(f?"":"Class")]}function t(a){return a.charAt(0).toUpperCase()+a.slice(1)}function D(a,b,f,c){if(!c){if(b)a[_callback]("ifToggled");a[_callback]("ifChanged")[_callback]("if"+t(f))}}var m="iCheck",C=m+"-helper",r="radio",k="checked",y="un"+k,n="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";$/;"	f
 function.E	app/assets/javascripts/bootflat/icheck.min.js	/^g[_remove](F||l(a,s)||"")}function q(a,b,d){var c=a[0],g=a.parent(),e=b==k,f=b==_indeterminate,m=b==n,s=f?_determinate:e?y:"enabled",q=l(a,s+t(c[_type])),r=l(a,b+t(c[_type]));if(!1!==c[b]){if(f||!d||"force"==d)c[b]=!1;D(a,e,s,d)}!c[n]&&l(a,_cursor,!0)&&g.find("."+C).css(_cursor,"pointer");g[_remove](r||l(a,b)||"");g.attr("role")&&!f&&g.attr("aria-"+(m?n:k),"false");g[_add](q||l(a,s)||"")}function E(a,b){if(a.data(m)){a.parent().html(a.attr("style",a.data(m).s||""));if(b)a[_callback](b);a.off(".i").unwrap();$/;"	f
 function.l	app/assets/javascripts/bootflat/icheck.min.js	/^f(_label+'[for="'+a[0].id+'"]').add(a.closest(_label)).off(".i")}}function l(a,b,f){if(a.data(m))return a.data(m).o[b+(f?"":"Class")]}function t(a){return a.charAt(0).toUpperCase()+a.slice(1)}function D(a,b,f,c){if(!c){if(b)a[_callback]("ifToggled");a[_callback]("ifChanged")[_callback]("if"+t(f))}}var m="iCheck",C=m+"-helper",r="radio",k="checked",y="un"+k,n="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";$/;"	f
@@ -183,13 +199,16 @@ generate	app/models/notification_message.rb	/^    def generate(notification)$/;"
 generate	app/models/notification_referrer.rb	/^    def generate(notification)$/;"	f	class:NotificationReferrer
 generate_authentication_token	app/models/user.rb	/^  def generate_authentication_token$/;"	f	class:User
 h.i	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
+i18n_message	app/controllers/user/sessions_controller.rb	/^  def i18n_message(message)$/;"	f	class:User
+index	app/controllers/admin/posts_controller.rb	/^  def index$/;"	f	class:Admin
+index	app/controllers/admin/users_controller.rb	/^  def index$/;"	f	class:Admin
 index	app/controllers/docs_controller.rb	/^  def index; end$/;"	f	class:DocsController
-index	app/controllers/posts_controller.rb	/^  def index$/;"	f	class:PostsController
-index	app/controllers/users_controller.rb	/^  def index$/;"	f	class:UsersController
 initialize	app/controllers/api/v1/config/api_logger.rb	/^        def initialize(logger = nil)$/;"	f	class:API.V1.Config.ApiLogger
 interaction_count	app/models/post.rb	/^  def interaction_count$/;"	f
 interaction_count	app/models/user.rb	/^  def interaction_count$/;"	f	class:User
+is_store?	app/models/user.rb	/^  def is_store?$/;"	f	class:User
 k.l	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
+landing_page	app/controllers/static_controller.rb	/^  def landing_page$/;"	f	class:StaticController
 m.n	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 m.o	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 m.p	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
@@ -197,22 +216,28 @@ m.q	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"
 m.r	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
 mark_read	app/models/notification.rb	/^    def mark_read$/;"	f	class:Notification
 name	app/models/user.rb	/^  def name$/;"	f	class:User
-new	app/controllers/posts_controller.rb	/^  def new$/;"	f	class:PostsController
+new	app/controllers/admin/posts_controller.rb	/^  def new$/;"	f	class:Admin
+new	app/controllers/user/registrations_controller.rb	/^  def new$/;"	f	class:User
 permit_params	app/controllers/api/v1/defaults.rb	/^          def permit_params(*fields)$/;"	f	class:API.V1.Defaults
 permitted_params	app/controllers/api/v1/defaults.rb	/^          def permitted_params$/;"	f	class:API.V1.Defaults
 picture_url=	app/models/post.rb	/^  def picture_url=(url)$/;"	f
-post_like_params	app/controllers/post_likes_controller.rb	/^  def post_like_params$/;"	f	class:PostLikesController
-post_params	app/controllers/posts_controller.rb	/^  def post_params$/;"	f	class:PostsController
+post_like_params	app/controllers/admin/post_likes_controller.rb	/^  def post_like_params$/;"	f	class:PostLikesController
+post_params	app/controllers/admin/posts_controller.rb	/^  def post_params$/;"	f	class:Admin
 pusher_hash	app/models/notification.rb	/^  def pusher_hash$/;"	f
 s.t	app/assets/javascripts/bootflat/jquery.fs.selecter.min.js	/^!function(a,b){"use strict";function c(b){b=a.extend({},F,b||{}),null===E&&(E=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(b,c){if(!b.hasClass("selecter-element")){c=a.extend({},c,b.data("selecter-options")),c.external&&(c.links=!0);var d=b.find("option, optgroup"),g=d.filter("option"),h=g.filter(":selected"),j=h.length>0?g.index(h):1,k="div";c.tabIndex=b[0].tabIndex,b[0].tabIndex=-1,c.multiple=b.prop("multiple"),c.disabled=b.is(":disabled");var q="",s="";s+="<"+k+' class="selecter '+c.customClass,C?s+=" mobile":c.cover&&(s+=" cover"),s+=c.multiple?" multiple":" closed",c.disabled&&(s+=" disabled"),s+='" tabindex="'+c.tabIndex+'">',s+="<\/"+k+">",c.multiple||(q+='<span class="selecter-selected'+(""!==c.label?" placeholder":"")+'">',q+=a("<span><\/span>").text(v(""!==h.text()?h.text():c.label,c.trim)).html(),q+="<\/span>"),q+='<div class="selecter-options">',q+="<\/div>",b.addClass("selecter-element").wrap(s).after(q);var t=b.parent(".selecter"),u=a.extend({$select:b,$allOptions:d,$options:g,$selecter:t,$selected:t.find(".selecter-selected"),$itemsWrapper:t.find(".selecter-options"),index:-1,guid:z++},c);e(u),u.multiple||r(j,u),void 0!==a.fn.scroller&&u.$itemsWrapper.scroller(),u.$selecter.on("touchstart.selecter",".selecter-selected",u,f).on("click.selecter",".selecter-selected",u,i).on("click.selecter",".selecter-item",u,m).on("close.selecter",u,l).data("selecter",u),u.$select.on("change.selecter",u,n),C||(u.$selecter.on("focus.selecter",u,o).on("blur.selecter",u,p),u.$select.on("focus.selecter",u,function(a){a.data.$selecter.trigger("focus")}))}}function e(b){for(var c="",d=b.links?"a":"span",e=0,f=0,g=b.$allOptions.length;g>f;f++){var h=b.$allOptions.eq(f);if("OPTGROUP"===h[0].tagName)c+='<span class="selecter-group',h.is(":disabled")&&(c+=" disabled"),c+='">'+h.attr("label")+"<\/span>";else{var i=h.val();h.attr("value")||h.attr("value",i),c+="<"+d+' class="selecter-item',h.is(":selected")&&(c+=" selected"),h.is(":disabled")&&(c+=" disabled"),c+='" ',c+=b.links?'href="'+i+'"':'data-value="'+i+'"',c+=">"+a("<span><\/span>").text(v(h.text(),b.trim)).html()+"<\/"+d+">",e++}}b.$itemsWrapper.html(c),b.$items=b.$selecter.find(".selecter-item")}function f(a){a.stopPropagation();var b=a.data,c=a.originalEvent;y(b.timer),b.touchStartX=c.touches[0].clientX,b.touchStartY=c.touches[0].clientY,b.$selecter.on("touchmove.selecter",".selecter-selected",b,g).on("touchend.selecter",".selecter-selected",b,h)}function g(a){var b=a.data,c=a.originalEvent;(Math.abs(c.touches[0].clientX-b.touchStartX)>10||Math.abs(c.touches[0].clientY-b.touchStartY)>10)&&b.$selecter.off("touchmove.selecter touchend.selecter")}function h(a){var b=a.data;b.$selecter.off("touchmove.selecter touchend.selecter click.selecter"),b.timer=x(b.timer,1e3,function(){b.$selecter.on("click.selecter",".selecter-selected",b,i)}),i(a)}function i(c){c.preventDefault(),c.stopPropagation();var d=c.data;if(!d.$select.is(":disabled"))if(a(".selecter").not(d.$selecter).trigger("close.selecter",[d]),C&&!D){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}else d.$selecter.hasClass("closed")?j(c):d.$selecter.hasClass("open")&&l(c)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;if(!b.$selecter.hasClass("open")){{var c=b.$selecter.offset(),d=E.outerHeight(),e=b.$itemsWrapper.outerHeight(!0);b.index>=0?b.$items.eq(b.index).position():{left:0,top:0}}c.top+e>d&&b.$selecter.addClass("bottom"),b.$itemsWrapper.show(),b.$selecter.removeClass("closed").addClass("open"),E.on("click.selecter-"+b.guid,":not(.selecter-options)",b,k),s(b)}}function k(b){b.preventDefault(),b.stopPropagation(),0===a(b.currentTarget).parents(".selecter").length&&l(b)}function l(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$selecter.hasClass("open")&&(b.$itemsWrapper.hide(),b.$selecter.removeClass("open bottom").addClass("closed"),E.off(".selecter-"+b.guid))}function m(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=b.data;if(!d.$select.is(":disabled")){if(d.$itemsWrapper.is(":visible")){var e=d.$items.index(c);e!==d.index&&(r(e,d),t(d))}d.multiple||l(b)}}function n(b,c){var d=a(this),e=b.data;if(!c&&!e.multiple){var f=e.$options.index(e.$options.filter("[value='"+w(d.val())+"']"));r(f,e),t(e)}}function o(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$select.is(":disabled")||c.multiple||(c.$selecter.addClass("focus").on("keydown.selecter-"+c.guid,c,q),a(".selecter").not(c.$selecter).trigger("close.selecter",[c]))}function p(b){b.preventDefault(),b.stopPropagation();var c=b.data;c.$selecter.removeClass("focus").off("keydown.selecter-"+c.guid),a(".selecter").not(c.$selecter).trigger("close.selecter",[c])}function q(b){var c=b.data;if(13===b.keyCode)c.$selecter.hasClass("open")&&(l(b),r(c.index,c)),t(c);else if(!(9===b.keyCode||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)){b.preventDefault(),b.stopPropagation();var d=c.$items.length-1,e=c.index<0?0:c.index;if(a.inArray(b.keyCode,B?[38,40,37,39]:[38,40])>-1)e+=38===b.keyCode||B&&37===b.keyCode?-1:1,0>e&&(e=0),e>d&&(e=d);else{var f,g,h=String.fromCharCode(b.keyCode).toUpperCase();for(g=c.index+1;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}if(0>e||e===c.index)for(g=0;d>=g;g++)if(f=c.$options.eq(g).text().charAt(0).toUpperCase(),f===h){e=g;break}}e>=0&&(r(e,c),s(c))}}function r(a,b){var c=b.$items.eq(a),d=c.hasClass("selected"),e=c.hasClass("disabled");if(!e){if(-1===a&&""!==b.label)b.$selected.html(b.label);else if(d)b.multiple&&(b.$options.eq(a).prop("selected",null),c.removeClass("selected"));else{{var f=c.html();c.data("value")}b.multiple?b.$options.eq(a).prop("selected",!0):(b.$selected.html(f).removeClass("placeholder"),b.$items.filter(".selected").removeClass("selected"),b.$select[0].selectedIndex=a),c.addClass("selected")}b.multiple||(b.index=a)}}function s(b){var c=b.index>=0?b.$items.eq(b.index).position():{left:0,top:0};void 0!==a.fn.scroller?b.$itemsWrapper.scroller("scroll",b.$itemsWrapper.find(".scroller-content").scrollTop()+c.top,0).scroller("reset"):b.$itemsWrapper.scrollTop(b.$itemsWrapper.scrollTop()+c.top)}function t(a){a.links?u(a):(a.callback.call(a.$selecter,a.$select.val(),a.index),a.$select.trigger("change",[!0]))}function u(a){var c=a.$select.val();a.external?b.open(c):b.location.href=c}function v(a,b){return 0===b?a:a.length>b?a.substring(0,b)+"...":a}function w(a){return"string"==typeof a?a.replace(\/([;&,\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])\/g,"\\\\$1"):a}function x(a,b,c,d){return y(a,d),d===!0?setInterval(c,b):setTimeout(c,b)}function y(a){null!==a&&(clearInterval(a),a=null)}var z=0,A=b.navigator.userAgent||b.navigator.vendor||b.opera,B=\/Firefox\/i.test(A),C=\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(A),D=B&&C,E=null,F={callback:a.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},G={defaults:function(b){return F=a.extend(F,b||{}),a(this)},disable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).addClass("disabled"),e.$options.eq(f).prop("disabled",!0)}else e.$selecter.hasClass("open")&&e.$selecter.find(".selecter-selected").trigger("click.selecter"),e.$selecter.addClass("disabled"),e.$select.prop("disabled",!0)})},enable:function(b){return a(this).each(function(c,d){var e=a(d).parent(".selecter").data("selecter");if(e)if("undefined"!=typeof b){var f=e.$items.index(e.$items.filter("[data-value="+b+"]"));e.$items.eq(f).removeClass("disabled"),e.$options.eq(f).prop("disabled",!1)}else e.$selecter.removeClass("disabled"),e.$select.prop("disabled",!1)})},destroy:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");d&&(d.$selecter.hasClass("open")&&d.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==a.fn.scroller&&d.$selecter.find(".selecter-options").scroller("destroy"),d.$select[0].tabIndex=d.tabIndex,d.$selected.remove(),d.$itemsWrapper.remove(),d.$selecter.off(".selecter"),d.$select.off(".selecter").removeClass("selecter-element").show().unwrap())})},refresh:function(){return a(this).each(function(b,c){var d=a(c).parent(".selecter").data("selecter");if(d){var f=d.index;d.$allOptions=d.$select.find("option, optgroup"),d.$options=d.$allOptions.filter("option"),d.index=-1,f=d.$options.index(d.$options.filter(":selected")),e(d),d.multiple||r(f,d)}})}};a.fn.selecter=function(a){return G[a]?G[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.selecter=function(a){"defaults"===a&&G.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);/;"	f
+scope	app/controllers/user/sessions_controller.rb	/^  def scope$/;"	f	class:User
+scope_class	app/controllers/user/sessions_controller.rb	/^  def scope_class$/;"	f	class:User
 search_by_location	app/models/post.rb	/^    def search_by_location(lat, long, radius = nil)$/;"	f	class:Post
 send_notification	app/models/comment.rb	/^  def send_notification$/;"	f	class:Comment
 send_notification	app/models/post_like.rb	/^  def send_notification$/;"	f	class:PostLike
 send_notification	app/models/user_following.rb	/^  def send_notification$/;"	f	class:UserFollowing
 send_to_pusher	app/models/notification.rb	/^  def send_to_pusher$/;"	f
 set_page	app/controllers/api/v1/defaults.rb	/^          def set_page$/;"	f	class:API.V1.Defaults
-show	app/controllers/dashboard_controller.rb	/^  def show$/;"	f	class:DashboardController
-show	app/controllers/posts_controller.rb	/^  def show$/;"	f	class:PostsController
+show	app/controllers/admin/dashboard_controller.rb	/^  def show$/;"	f	class:DashboardController
+show	app/controllers/admin/posts_controller.rb	/^  def show$/;"	f	class:Admin
+sign_up_params	app/controllers/user/registrations_controller.rb	/^  def sign_up_params$/;"	f	class:User
+skip_signup_modal	app/controllers/user/registrations_controller.rb	/^  def skip_signup_modal$/;"	f	class:User
+skip_signup_modal	app/controllers/user/sessions_controller.rb	/^  def skip_signup_modal$/;"	f	class:User
 stepper	app/assets/javascripts/bootflat/jquery.fs.stepper.min.js	/^!function(a){"use strict";function b(b){b=a.extend({},l,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var f=parseFloat(b.attr("min")),g=parseFloat(b.attr("max")),h=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" \/>').after('<span class="stepper-arrow up">'+c.labels.up+'<\/span><span class="stepper-arrow down">'+c.labels.down+"<\/span>");var i=b.parent(".stepper"),k=a.extend({$stepper:i,$input:b,$arrow:i.find(".stepper-arrow"),min:void 0===typeof f||isNaN(f)?!1:f,max:void 0===typeof g||isNaN(g)?!1:g,step:void 0===typeof h||isNaN(h)?1:h,timer:null},c);k.digits=j(k.step),b.is(":disabled")&&i.addClass("disabled"),i.on("keypress",".stepper-input",k,d),i.on("touchstart.stepper mousedown.stepper",".stepper-arrow",k,e).data("stepper",k)}}function d(a){var b=a.data;(38===a.keyCode||40===a.keyCode)&&(a.preventDefault(),g(b,38===a.keyCode?b.step:-b.step))}function e(b){b.preventDefault(),b.stopPropagation(),f(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=h(c.timer,125,function(){g(c,d,!1)}),g(c,d),a("body").on("touchend.stepper mouseup.stepper",c,f)}}function f(b){b.preventDefault(),b.stopPropagation();var c=b.data;i(c.timer),a("body").off(".stepper")}function g(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=(d-a.min)%a.step;0!==e&&(d-=e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d-=a.step),d!==c&&(d=k(d,a.digits),a.$input.val(d).trigger("change"))}function h(a,b,c){return i(a),setInterval(c,b)}function i(a){a&&(clearInterval(a),a=null)}function j(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function k(a,b){var c=Math.pow(10,b);return Math.round(a*c)\/c}var l={customClass:"",labels:{up:"Up",down:"Down"}},m={defaults:function(b){return l=a.extend(l,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);/;"	f
 to_api_json	app/models/comment.rb	/^  def to_api_json$/;"	f	class:Comment
 to_api_json	app/models/post.rb	/^  def to_api_json$/;"	f
@@ -220,7 +245,8 @@ to_api_json	app/models/tag.rb	/^  def to_api_json$/;"	f
 to_api_json	app/models/user.rb	/^  def to_api_json$/;"	f	class:User
 top_this_week	app/models/tag.rb	/^    def top_this_week$/;"	f	class:Tag
 up	db/migrate/20160317012615_create_pg_search_documents.rb	/^  def self.up$/;"	F	class:CreatePgSearchDocuments
-update	app/controllers/posts_controller.rb	/^  def update$/;"	f	class:PostsController
+update	app/controllers/admin/posts_controller.rb	/^  def update$/;"	f	class:Admin
+update	app/controllers/user/registrations_controller.rb	/^  def update$/;"	f	class:User
 user_avatar_url	app/models/post.rb	/^  def user_avatar_url$/;"	f
 user_email	app/models/post.rb	/^  def user_email$/;"	f
 user_id	app/models/post.rb	/^  def user_id$/;"	f
